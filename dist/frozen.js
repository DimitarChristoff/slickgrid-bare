module.exports=function(e){function t(r){if(o[r])return o[r].exports;var n=o[r]={exports:{},id:r,loaded:!1};return e[r].call(n.exports,n,n.exports,t),n.loaded=!0,n.exports}var o={};return t.m=e,t.c=o,t.p="/",t(0)}([function(e,t,o){e.exports=o(4)},function(e,t){"use strict";function o(){var e=!1,t=!1;this.stopPropagation=function(){e=!0},this.isPropagationStopped=function(){return e},this.stopImmediatePropagation=function(){t=!0},this.isImmediatePropagationStopped=function(){return t}}function r(){var e=[];this.subscribe=function(t){e.push(t)},this.unsubscribe=function(t){for(var o=e.length-1;o>=0;o--)e[o]===t&&e.splice(o,1)},this.notify=function(t,r,n){r=r||new o,n=n||this;for(var i,s=0;s<e.length&&!r.isPropagationStopped()&&!r.isImmediatePropagationStopped();s++)i=e[s].call(n,r,t);return i}}function n(){var e=[];this.subscribe=function(t,o){return e.push({event:t,handler:o}),t.subscribe(o),this},this.unsubscribe=function(t,o){for(var r=e.length;r--;)if(e[r].event===t&&e[r].handler===o)return e.splice(r,1),void t.unsubscribe(o);return this},this.unsubscribeAll=function(){for(var t=e.length;t--;)e[t].event.unsubscribe(e[t].handler);return e=[],this}}function i(e,t,o,r){void 0===o&&void 0===r&&(o=e,r=t),this.fromRow=Math.min(e,o),this.fromCell=Math.min(t,r),this.toRow=Math.max(e,o),this.toCell=Math.max(t,r),this.isSingleRow=function(){return this.fromRow==this.toRow},this.isSingleCell=function(){return this.fromRow==this.toRow&&this.fromCell==this.toCell},this.contains=function(e,t){return e>=this.fromRow&&e<=this.toRow&&t>=this.fromCell&&t<=this.toCell},this.toString=function(){return this.isSingleCell()?"("+this.fromRow+":"+this.fromCell+")":"("+this.fromRow+":"+this.fromCell+" - "+this.toRow+":"+this.toCell+")"}}function s(){this.__nonDataRow=!0}function a(){this.__group=!0,this.level=0,this.count=0,this.value=null,this.title=null,this.collapsed=!1,this.totals=null,this.rows=[],this.groups=null,this.groupingKey=null}function l(){this.__groupTotals=!0,this.group=null,this.initialized=!1}function d(){var e=null;this.isActive=function(t){return t?e===t:null!==e},this.activate=function(t){if(t!==e){if(null!==e)throw"SlickGrid.EditorLock.activate: an editController is still active, can't activate another editController";if(!t.commitCurrentEdit)throw"SlickGrid.EditorLock.activate: editController must implement .commitCurrentEdit()";if(!t.cancelCurrentEdit)throw"SlickGrid.EditorLock.activate: editController must implement .cancelCurrentEdit()";e=t}},this.deactivate=function(t){if(e!==t)throw"SlickGrid.EditorLock.deactivate: specified editController is not the currently active one";e=null},this.commitCurrentEdit=function(){return!e||e.commitCurrentEdit()},this.cancelCurrentEdit=function(){return!e||e.cancelCurrentEdit()}}function c(e){function t(){o(e)}function o(e){e.forEach(function(e){c[e.id]=e,e.columns&&o(e.columns)})}function r(e,t){return e.filter(function(e){var o=t.call(e);return o&&e.columns&&(e.columns=r(e.columns,t)),o&&(!e.columns||e.columns.length)})}function n(e,t){e.sort(function(e,o){var r=i(t.getColumnIndex(e.id)),n=i(t.getColumnIndex(o.id));return r-n}).forEach(function(e){e.columns&&n(e.columns,t)})}function i(e){return"undefined"==typeof e?-1:e}function s(e){if(!e.length)return e.columns?1+s(e.columns):1;for(var t in e)return s(e[t])}function a(e,t,o){var r=[];if(o=o||0,t==o)return e.length&&e.forEach(function(e){e.columns&&(e.extractColumns=function(){return l(e)})}),e;for(var n in e)e[n].columns&&(r=r.concat(a(e[n].columns,t,o+1)));return r}function l(e){var t=[];if(e.hasOwnProperty("length"))for(var o=0;o<e.length;o++)t=t.concat(l(e[o]));else{if(!e.hasOwnProperty("columns"))return e;t=t.concat(l(e.columns))}return t}function d(){return $.extend(!0,[],e)}var c={};t(),this.hasDepth=function(){for(var t in e)if(e[t].hasOwnProperty("columns"))return!0;return!1},this.getTreeColumns=function(){return e},this.extractColumns=function(){return this.hasDepth()?l(e):e},this.getDepth=function(){return s(e)},this.getColumnsInDepth=function(t){return a(e,t)},this.getColumnsInGroup=function(e){return l(e)},this.visibleColumns=function(){return r(d(),function(){return this.visible})},this.filter=function(e){return r(d(),e)},this.reOrder=function(t){return n(e,t)},this.getById=function(e){return c[e]},this.getInIds=function(e){return e.map(function(e){return c[e]})}}Object.defineProperty(t,"__esModule",{value:!0});var u={Event:r,EventData:o,EventHandler:n,Range:i,NonDataRow:s,Group:a,GroupTotals:l,EditorLock:d,GlobalEditorLock:new d,TreeColumns:c,keyCode:{BACKSPACE:8,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,INSERT:45,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,RIGHT:39,TAB:9,UP:38,SPACE:32}};t.default=u,a.prototype=new s,a.prototype.equals=function(e){return this.value===e.value&&this.count===e.count&&this.collapsed===e.collapsed&&this.title===e.title},l.prototype=new s},function(e,t){e.exports=require("jquery")},function(e,t,o){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(o){function n(){}function i(e){if(!e||"object"!==("undefined"==typeof e?"undefined":r(e)))return!1;var t=$(e)||Ce;return/object|function/.test(r(t.Element))?e instanceof t.Element:1===e.nodeType&&"string"==typeof e.nodeName}function s(e){return e===Ce||!(!e||!e.Window)&&e instanceof e.Window}function a(e){return!!e&&e instanceof ye}function l(e){return d(e)&&void 0!==r(e.length)&&c(e.splice)}function d(e){return!!e&&"object"===("undefined"==typeof e?"undefined":r(e))}function c(e){return"function"==typeof e}function u(e){return"number"==typeof e}function h(e){return"boolean"==typeof e}function p(e){return"string"==typeof e}function f(e){return!!p(e)&&(Re.querySelector(e),!0)}function v(e,t){for(var o in t)e[o]=t[o];return e}function m(e,t){for(var o in t){var r=!1;for(var n in Ze)if(0===o.indexOf(n)&&Ze[n].test(o)){r=!0;break}r||(e[o]=t[o])}return e}function g(e,t){e.page=e.page||{},e.page.x=t.page.x,e.page.y=t.page.y,e.client=e.client||{},e.client.x=t.client.x,e.client.y=t.client.y,e.timeStamp=t.timeStamp}function w(e,t,o){var r=t.length>1?_(t):t[0];x(r,Te,o),e.page.x=Te.x,e.page.y=Te.y,S(r,Te,o),e.client.x=Te.x,e.client.y=Te.y,e.timeStamp=(new Date).getTime()}function C(e,t,o){e.page.x=o.page.x-t.page.x,e.page.y=o.page.y-t.page.y,e.client.x=o.client.x-t.client.x,e.client.y=o.client.y-t.client.y,e.timeStamp=(new Date).getTime()-t.timeStamp;var r=Math.max(e.timeStamp/1e3,.001);e.page.speed=$e(e.page.x,e.page.y)/r,e.page.vx=e.page.x/r,e.page.vy=e.page.y/r,e.client.speed=$e(e.client.x,e.page.y)/r,e.client.vx=e.client.x/r,e.client.vy=e.client.y/r}function R(e){return e instanceof Ce.Event||Ae&&Ce.Touch&&e instanceof Ce.Touch}function y(e,t,o){return o=o||{},e=e||"page",o.x=t[e+"X"],o.y=t[e+"Y"],o}function x(e,t){return t=t||{},Ye&&R(e)?(y("screen",e,t),t.x+=Ce.scrollX,t.y+=Ce.scrollY):y("page",e,t),t}function S(e,t){return t=t||{},Ye&&R(e)?y("screen",e,t):y("client",e,t),t}function b(e){return e=e||Ce,{x:e.scrollX||e.document.documentElement.scrollLeft,y:e.scrollY||e.document.documentElement.scrollTop}}function E(e){return u(e.pointerId)?e.pointerId:e.identifier}function z(e){return e instanceof be?e.correspondingUseElement:e}function $(e){if(s(e))return e;var t=e.ownerDocument||e;return t.defaultView||t.parentWindow||Ce}function T(e){var t=e instanceof xe?e.getBoundingClientRect():e.getClientRects()[0];return t&&{left:t.left,right:t.right,top:t.top,bottom:t.bottom,width:t.width||t.right-t.left,height:t.height||t.bottom-t.top}}function L(e){var t=T(e);if(!Ge&&t){var o=b($(e));t.left+=o.x,t.right+=o.x,t.top+=o.y,t.bottom+=o.y}return t}function D(e){var t=[];return l(e)?(t[0]=e[0],t[1]=e[1]):"touchend"===e.type?1===e.touches.length?(t[0]=e.touches[0],t[1]=e.changedTouches[0]):0===e.touches.length&&(t[0]=e.changedTouches[0],t[1]=e.changedTouches[1]):(t[0]=e.touches[0],t[1]=e.touches[1]),t}function _(e){for(var t,o={pageX:0,pageY:0,clientX:0,clientY:0,screenX:0,screenY:0},r=0;r<e.length;r++)for(t in o)o[t]+=e[r][t];for(t in o)o[t]/=e.length;return o}function k(e){if(e.length||e.touches&&e.touches.length>1){var t=D(e),o=Math.min(t[0].pageX,t[1].pageX),r=Math.min(t[0].pageY,t[1].pageY),n=Math.max(t[0].pageX,t[1].pageX),i=Math.max(t[0].pageY,t[1].pageY);return{x:o,y:r,left:o,top:r,width:n-o,height:i-r}}}function P(e,t){t=t||Fe.deltaSource;var o=t+"X",r=t+"Y",n=D(e),i=n[0][o]-n[1][o],s=n[0][r]-n[1][r];return $e(i,s)}function F(e,t,o){o=o||Fe.deltaSource;var r=o+"X",n=o+"Y",i=D(e),s=i[0][r]-i[1][r],a=i[0][n]-i[1][n],l=180*Math.atan(a/s)/Math.PI;if(u(t)){var d=l-t,c=d%360;c>315?l-=360+l/360|0:c>135?l-=180+l/360|0:c<-315?l+=360+l/360|0:c<-135&&(l+=180+l/360|0)}return l}function H(e,t){var o=e?e.options.origin:Fe.origin;return"parent"===o?o=q(t):"self"===o?o=e.getRect(t):f(o)&&(o=N(t,o)||{x:0,y:0}),c(o)&&(o=o(e&&t)),i(o)&&(o=L(o)),o.x="x"in o?o.x:o.left,o.y="y"in o?o.y:o.top,o}function A(e,t,o,r){var n=1-e;return n*n*t+2*n*e*o+e*e*r}function M(e,t,o,r,n,i,s){return{x:A(s,e,o,n),y:A(s,t,r,i)}}function I(e,t,o,r){return e/=r,-o*e*(e-2)+t}function W(e,t){for(;t;){if(t===e)return!0;t=t.parentNode}return!1}function N(e,t){for(var o=q(e);i(o);){if(ve(o,t))return o;o=q(o)}return null}function q(e){var t=e.parentNode;if(a(t)){for(;(t=t.host)&&a(t););return t}return t}function B(e,t){return e._context===t.ownerDocument||W(e._context,t)}function j(e,t,o){var r=e.options.ignoreFrom;return!(!r||!i(o))&&(p(r)?me(o,r,t):!!i(r)&&W(r,o))}function O(e,t,o){var r=e.options.allowFrom;return!r||!!i(o)&&(p(r)?me(o,r,t):!!i(r)&&W(r,o))}function V(e,t){if(!t)return!1;var o=t.options.drag.axis;return"xy"===e||"xy"===o||o===e}function X(e,t){var o=e.options;return/^resize/.test(t)&&(t="resize"),o[t].snap&&o[t].snap.enabled}function Y(e,t){var o=e.options;return/^resize/.test(t)&&(t="resize"),o[t].restrict&&o[t].restrict.enabled}function G(e,t){var o=e.options;return/^resize/.test(t)&&(t="resize"),o[t].autoScroll&&o[t].autoScroll.enabled}function U(e,t,o){for(var r=e.options,n=r[o.name].max,i=r[o.name].maxPerElement,s=0,a=0,l=0,d=0,c=_e.length;d<c;d++){var u=_e[d],h=u.prepared.name,p=u.interacting();if(p){if(s++,s>=qe)return!1;if(u.target===e){if(a+=h===o.name|0,a>=n)return!1;if(u.element===t&&(l++,h!==o.name||l>=i))return!1}}}return qe>0}function K(e){var t,o,r,n,i,s=e[0],a=s?0:-1,l=[],d=[];for(n=1;n<e.length;n++)if(t=e[n],t&&t!==s)if(s){if(t.parentNode!==t.ownerDocument)if(s.parentNode!==t.ownerDocument){if(!l.length)for(o=s;o.parentNode&&o.parentNode!==o.ownerDocument;)l.unshift(o),o=o.parentNode;if(s instanceof Ee&&t instanceof xe&&!(t instanceof Se)){if(t===s.parentNode)continue;o=t.ownerSVGElement}else o=t;for(d=[];o.parentNode!==o.ownerDocument;)d.unshift(o),o=o.parentNode;for(i=0;d[i]&&d[i]===l[i];)i++;var c=[d[i-1],d[i],l[i]];for(r=c[0].lastChild;r;){if(r===c[1]){s=t,a=n,l=[];break}if(r===c[2])break;r=r.previousSibling}}else s=t,a=n}else s=t,a=n;return a}function Q(){if(this.target=null,this.element=null,this.dropTarget=null,this.dropElement=null,this.prevDropTarget=null,this.prevDropElement=null,this.prepared={name:null,axis:null,edges:null},this.matches=[],this.matchElements=[],this.inertiaStatus={active:!1,smoothEnd:!1,ending:!1,startEvent:null,upCoords:{},xe:0,ye:0,sx:0,sy:0,t0:0,vx0:0,vys:0,duration:0,resumeDx:0,resumeDy:0,lambda_v0:0,one_ve_v0:0,i:null},c(Function.prototype.bind))this.boundInertiaFrame=this.inertiaFrame.bind(this),this.boundSmoothEndFrame=this.smoothEndFrame.bind(this);else{var e=this;this.boundInertiaFrame=function(){return e.inertiaFrame()},this.boundSmoothEndFrame=function(){return e.smoothEndFrame()}}this.activeDrops={dropzones:[],elements:[],rects:[]},this.pointers=[],this.pointerIds=[],this.downTargets=[],this.downTimes=[],this.holdTimers=[],this.prevCoords={page:{x:0,y:0},client:{x:0,y:0},timeStamp:0},this.curCoords={page:{x:0,y:0},client:{x:0,y:0},timeStamp:0},this.startCoords={page:{x:0,y:0},client:{x:0,y:0},timeStamp:0},this.pointerDelta={page:{x:0,y:0,vx:0,vy:0,speed:0},client:{x:0,y:0,vx:0,vy:0,speed:0},timeStamp:0},this.downEvent=null,this.downPointer={},this._eventTarget=null,this._curEventTarget=null,this.prevEvent=null,this.tapTime=0,this.prevTap=null,this.startOffset={left:0,right:0,top:0,bottom:0},this.restrictOffset={left:0,right:0,top:0,bottom:0},this.snapOffsets=[],this.gesture={start:{x:0,y:0},startDistance:0,prevDistance:0,distance:0,scale:1,startAngle:0,prevAngle:0},this.snapStatus={x:0,y:0,dx:0,dy:0,realX:0,realY:0,snappedX:0,snappedY:0,targets:[],locked:!1,changed:!1},this.restrictStatus={dx:0,dy:0,restrictedX:0,restrictedY:0,snap:null,restricted:!1,changed:!1},this.restrictStatus.snap=this.snapStatus,this.pointerIsDown=!1,this.pointerWasMoved=!1,this.gesturing=!1,this.dragging=!1,this.resizing=!1,this.resizeAxes="xy",this.mouse=!1,_e.push(this)}function J(e,t,o){var r,n=0,i=_e.length,s=/mouse/i.test(e.pointerType||t)||4===e.pointerType,a=E(e);if(/down|start/i.test(t))for(n=0;n<i;n++){r=_e[n];var l=o;if(r.inertiaStatus.active&&r.target.options[r.prepared.name].inertia.allowResume&&r.mouse===s)for(;l;){if(l===r.element)return r;l=q(l)}}if(s||!Ae&&!Me){for(n=0;n<i;n++)if(_e[n].mouse&&!_e[n].inertiaStatus.active)return _e[n];for(n=0;n<i;n++)if(_e[n].mouse&&(!/down/.test(t)||!_e[n].inertiaStatus.active))return r;return r=new Q,r.mouse=!0,r}for(n=0;n<i;n++)if(fe(_e[n].pointerIds,a))return _e[n];if(/up|end|out/i.test(t))return null;for(n=0;n<i;n++)if(r=_e[n],(!r.prepared.name||r.target.options.gesture.enabled)&&!r.interacting()&&(s||!r.mouse))return r;return new Q}function Z(e){return function(t){var o,r,n=z(t.path?t.path[0]:t.target),i=z(t.currentTarget);if(Ae&&/touch/.test(t.type))for(Ne=(new Date).getTime(),r=0;r<t.changedTouches.length;r++){var s=t.changedTouches[r];o=J(s,t.type,n),o&&(o._updateEventTargets(n,i),o[e](s,t,n,i))}else{if(!Me&&/mouse/.test(t.type)){for(r=0;r<_e.length;r++)if(!_e[r].mouse&&_e[r].pointerIsDown)return;if((new Date).getTime()-Ne<500)return}if(o=J(t,t.type,n),!o)return;o._updateEventTargets(n,i),o[e](t,t,n,i)}}}function ee(e,t,o,r,n,i){var s,a,l=e.target,d=e.snapStatus,c=e.restrictStatus,u=e.pointers,h=(l&&l.options||Fe).deltaSource,p=h+"X",f=h+"Y",m=l?l.options:Fe,g=H(l,n),w="start"===r,C="end"===r,R=w?e.startCoords:e.curCoords;n=n||e.element,a=v({},R.page),s=v({},R.client),a.x-=g.x,a.y-=g.y,s.x-=g.x,s.y-=g.y;var y=m[o].snap&&m[o].snap.relativePoints;!X(l,o)||w&&y&&y.length||(this.snap={range:d.range,locked:d.locked,x:d.snappedX,y:d.snappedY,realX:d.realX,realY:d.realY,dx:d.dx,dy:d.dy},d.locked&&(a.x+=d.dx,a.y+=d.dy,s.x+=d.dx,s.y+=d.dy)),!Y(l,o)||w&&m[o].restrict.elementRect||!c.restricted||(a.x+=c.dx,a.y+=c.dy,s.x+=c.dx,s.y+=c.dy,this.restrict={dx:c.dx,dy:c.dy}),this.pageX=a.x,this.pageY=a.y,this.clientX=s.x,this.clientY=s.y,this.x0=e.startCoords.page.x-g.x,this.y0=e.startCoords.page.y-g.y,this.clientX0=e.startCoords.client.x-g.x,this.clientY0=e.startCoords.client.y-g.y,this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.button=t.button,this.buttons=t.buttons,this.target=n,this.t0=e.downTimes[0],this.type=o+(r||""),this.interaction=e,this.interactable=l;var x=e.inertiaStatus;if(x.active&&(this.detail="inertia"),i&&(this.relatedTarget=i),C?"client"===h?(this.dx=s.x-e.startCoords.client.x,this.dy=s.y-e.startCoords.client.y):(this.dx=a.x-e.startCoords.page.x,this.dy=a.y-e.startCoords.page.y):w?(this.dx=0,this.dy=0):"inertiastart"===r?(this.dx=e.prevEvent.dx,this.dy=e.prevEvent.dy):"client"===h?(this.dx=s.x-e.prevEvent.clientX,this.dy=s.y-e.prevEvent.clientY):(this.dx=a.x-e.prevEvent.pageX,this.dy=a.y-e.prevEvent.pageY),e.prevEvent&&"inertia"===e.prevEvent.detail&&!x.active&&m[o].inertia&&m[o].inertia.zeroResumeDelta&&(x.resumeDx+=this.dx,x.resumeDy+=this.dy,this.dx=this.dy=0),"resize"===o&&e.resizeAxes?m.resize.square?("y"===e.resizeAxes?this.dx=this.dy:this.dy=this.dx,this.axes="xy"):(this.axes=e.resizeAxes,"x"===e.resizeAxes?this.dy=0:"y"===e.resizeAxes&&(this.dx=0)):"gesture"===o&&(this.touches=[u[0],u[1]],w?(this.distance=P(u,h),this.box=k(u),this.scale=1,this.ds=0,this.angle=F(u,void 0,h),this.da=0):C||t instanceof ee?(this.distance=e.prevEvent.distance,this.box=e.prevEvent.box,this.scale=e.prevEvent.scale,this.ds=this.scale-1,this.angle=e.prevEvent.angle,this.da=this.angle-e.gesture.startAngle):(this.distance=P(u,h),this.box=k(u),this.scale=this.distance/e.gesture.startDistance,this.angle=F(u,e.gesture.prevAngle,h),this.ds=this.scale-e.gesture.prevScale,this.da=this.angle-e.gesture.prevAngle)),w)this.timeStamp=e.downTimes[0],this.dt=0,this.duration=0,this.speed=0,this.velocityX=0,this.velocityY=0;else if("inertiastart"===r)this.timeStamp=e.prevEvent.timeStamp,this.dt=e.prevEvent.dt,this.duration=e.prevEvent.duration,this.speed=e.prevEvent.speed,this.velocityX=e.prevEvent.velocityX,this.velocityY=e.prevEvent.velocityY;else if(this.timeStamp=(new Date).getTime(),this.dt=this.timeStamp-e.prevEvent.timeStamp,this.duration=this.timeStamp-e.downTimes[0],t instanceof ee){var S=this[p]-e.prevEvent[p],b=this[f]-e.prevEvent[f],E=this.dt/1e3;this.speed=$e(S,b)/E,this.velocityX=S/E,this.velocityY=b/E}else this.speed=e.pointerDelta[h].speed,this.velocityX=e.pointerDelta[h].vx,this.velocityY=e.pointerDelta[h].vy;if((C||"inertiastart"===r)&&e.prevEvent.speed>600&&this.timeStamp-e.prevEvent.timeStamp<150){var z=180*Math.atan2(e.prevEvent.velocityY,e.prevEvent.velocityX)/Math.PI,$=22.5;z<0&&(z+=360);var T=135-$<=z&&z<225+$,L=225-$<=z&&z<315+$,D=!T&&(315-$<=z||z<45+$),_=!L&&45-$<=z&&z<135+$;this.swipe={up:L,down:_,left:T,right:D,angle:z,speed:e.prevEvent.speed,velocity:{x:e.prevEvent.velocityX,y:e.prevEvent.velocityY}}}}function te(){this.originalEvent.preventDefault()}function oe(e){var t="";if("drag"===e.name&&(t=Be.drag),"resize"===e.name)if(e.axis)t=Be[e.name+e.axis];else if(e.edges){for(var o="resize",r=["top","bottom","left","right"],n=0;n<4;n++)e.edges[r[n]]&&(o+=r[n]);t=Be[o]}return t}function re(e,t,o,r,n,s,a){if(!t)return!1;if(t===!0){var l=u(s.width)?s.width:s.right-s.left,d=u(s.height)?s.height:s.bottom-s.top;if(l<0&&("left"===e?e="right":"right"===e&&(e="left")),d<0&&("top"===e?e="bottom":"bottom"===e&&(e="top")),"left"===e)return o.x<(l>=0?s.left:s.right)+a;if("top"===e)return o.y<(d>=0?s.top:s.bottom)+a;if("right"===e)return o.x>(l>=0?s.right:s.left)-a;if("bottom"===e)return o.y>(d>=0?s.bottom:s.top)-a}return!!i(r)&&(i(t)?t===r:me(r,t,n))}function ne(e,t,o){var r,n=this.getRect(o),i=!1,s=null,a=null,l=v({},t.curCoords.page),c=this.options;if(!n)return null;if(je.resize&&c.resize.enabled){var u=c.resize;if(r={left:!1,right:!1,top:!1,bottom:!1},d(u.edges)){for(var h in r)r[h]=re(h,u.edges[h],l,t._eventTarget,o,n,u.margin||Ie);r.left=r.left&&!r.right,r.top=r.top&&!r.bottom,i=r.left||r.right||r.top||r.bottom}else{var p="y"!==c.resize.axis&&l.x>n.right-Ie,f="x"!==c.resize.axis&&l.y>n.bottom-Ie;i=p||f,a=(p?"x":"")+(f?"y":"")}}return s=i?"resize":je.drag&&c.drag.enabled?"drag":null,je.gesture&&t.pointerIds.length>=2&&!t.dragging&&!t.resizing&&(s="gesture"),s?{name:s,axis:a,edges:r}:null}function ie(e,t){if(!d(e))return null;var o=e.name,r=t.options;return("resize"===o&&r.resize.enabled||"drag"===o&&r.drag.enabled||"gesture"===o&&r.gesture.enabled)&&je[o]?("resize"!==o&&"resizeyx"!==o||(o="resizexy"),e):null}function se(e,t){var o={},r=Pe[e.type],n=z(e.path?e.path[0]:e.target),s=n;t=!!t;for(var a in e)o[a]=e[a];for(o.originalEvent=e,o.preventDefault=te;i(s);){for(var l=0;l<r.selectors.length;l++){var d=r.selectors[l],c=r.contexts[l];if(ve(s,d)&&W(c,n)&&W(c,s)){var u=r.listeners[l];o.currentTarget=s;for(var h=0;h<u.length;h++)u[h][1]===t&&u[h][0](o)}}s=q(s)}}function ae(e){return se.call(this,e,!0)}function le(e,t){return De.get(e,t)||new de(e,t)}function de(e,t){this._element=e,this._iEvents=this._iEvents||{};var o;if(f(e)){this.selector=e;var r=t&&t.context;o=r?$(r):Ce,r&&(o.Node?r instanceof o.Node:i(r)||r===o.document)&&(this._context=r)}else o=$(e),i(e,o)&&(Me?(Je.add(this._element,ge.down,et.pointerDown),Je.add(this._element,ge.move,et.pointerHover)):(Je.add(this._element,"mousedown",et.pointerDown),Je.add(this._element,"mousemove",et.pointerHover),Je.add(this._element,"touchstart",et.pointerDown),Je.add(this._element,"touchmove",et.pointerHover)));this._doc=o.document,fe(Le,this._doc)||he(this._doc),De.push(this),this.set(t)}function ce(e,t){var o=!1;return function(){return o||(Ce.console.warn(t),o=!0),e.apply(this,arguments)}}function ue(e){for(var t=0;t<_e.length;t++)_e[t].pointerEnd(e,e)}function he(e){if(!fe(Le,e)){var t=e.defaultView||e.parentWindow;for(var o in Pe)Je.add(e,o,se),Je.add(e,o,ae,!0);Me?(ge=ze===t.MSPointerEvent?{up:"MSPointerUp",down:"MSPointerDown",over:"mouseover",out:"mouseout",move:"MSPointerMove",cancel:"MSPointerCancel"}:{up:"pointerup",down:"pointerdown",over:"pointerover",out:"pointerout",move:"pointermove",cancel:"pointercancel"},Je.add(e,ge.down,et.selectorDown),Je.add(e,ge.move,et.pointerMove),Je.add(e,ge.over,et.pointerOver),Je.add(e,ge.out,et.pointerOut),Je.add(e,ge.up,et.pointerUp),Je.add(e,ge.cancel,et.pointerCancel),Je.add(e,ge.move,et.autoScrollMove)):(Je.add(e,"mousedown",et.selectorDown),Je.add(e,"mousemove",et.pointerMove),Je.add(e,"mouseup",et.pointerUp),Je.add(e,"mouseover",et.pointerOver),Je.add(e,"mouseout",et.pointerOut),Je.add(e,"touchstart",et.selectorDown),Je.add(e,"touchmove",et.pointerMove),Je.add(e,"touchend",et.pointerUp),Je.add(e,"touchcancel",et.pointerCancel),Je.add(e,"mousemove",et.autoScrollMove),Je.add(e,"touchmove",et.autoScrollMove)),Je.add(t,"blur",ue);try{if(t.frameElement){var r=t.frameElement.ownerDocument,n=r.defaultView;Je.add(r,"mouseup",et.pointerEnd),Je.add(r,"touchend",et.pointerEnd),Je.add(r,"touchcancel",et.pointerEnd),Je.add(r,"pointerup",et.pointerEnd),Je.add(r,"MSPointerUp",et.pointerEnd),Je.add(n,"blur",ue)}}catch(e){le.windowParentError=e}Je.add(e,"dragstart",function(e){for(var t=0;t<_e.length;t++){var o=_e[t];if(o.element&&(o.element===e.target||W(o.element,e.target)))return void o.checkAndPreventDefault(e,o.target,o.element)}}),Je.useAttachEvent&&(Je.add(e,"selectstart",function(e){var t=_e[0];t.currentAction()&&t.checkAndPreventDefault(e)}),Je.add(e,"dblclick",Z("ie8Dblclick"))),Le.push(e)}}function pe(e,t){for(var o=0,r=e.length;o<r;o++)if(e[o]===t)return o;return-1}function fe(e,t){return pe(e,t)!==-1}function ve(e,t,r){return we?we(e,t,r):(Ce!==o&&(t=t.replace(/\/deep\//g," ")),e[Ue](t))}function me(e,t,o){for(;i(e);){if(ve(e,t))return!0;if(e=q(e),e===o)return ve(e,t)}return!1}if(o){var ge,we,Ce=function(){var e=o.document.createTextNode("");return e.ownerDocument!==o.document&&"function"==typeof o.wrap&&o.wrap(e)===e?o.wrap(o):o}(),Re=Ce.document,ye=Ce.DocumentFragment||n,xe=Ce.SVGElement||n,Se=Ce.SVGSVGElement||n,be=Ce.SVGElementInstance||n,Ee=Ce.HTMLElement||Ce.Element,ze=Ce.PointerEvent||Ce.MSPointerEvent,$e=Math.hypot||function(e,t){return Math.sqrt(e*e+t*t)},Te={},Le=[],De=[],_e=[],ke=!1,Pe={},Fe={base:{accept:null,actionChecker:null,styleCursor:!0,preventDefault:"auto",origin:{x:0,y:0},deltaSource:"page",allowFrom:null,ignoreFrom:null,_context:Re,dropChecker:null},drag:{enabled:!1,manualStart:!0,max:1/0,maxPerElement:1,snap:null,restrict:null,inertia:null,autoScroll:null,axis:"xy"},drop:{enabled:!1,accept:null,overlap:"pointer"},resize:{enabled:!1,manualStart:!1,max:1/0,maxPerElement:1,snap:null,restrict:null,inertia:null,autoScroll:null,square:!1,preserveAspectRatio:!1,axis:"xy",margin:NaN,edges:null,invert:"none"},gesture:{manualStart:!1,enabled:!1,max:1/0,maxPerElement:1,restrict:null},perAction:{manualStart:!1,max:1/0,maxPerElement:1,snap:{enabled:!1,endOnly:!1,range:1/0,targets:null,offsets:null,relativePoints:null},restrict:{enabled:!1,endOnly:!1},autoScroll:{enabled:!1,container:null,margin:60,speed:300},inertia:{enabled:!1,resistance:10,minSpeed:100,endSpeed:10,allowResume:!0,zeroResumeDelta:!0,smoothEndDuration:300}},_holdDuration:600},He={interaction:null,i:null,x:0,y:0,scroll:function(){var e,t,o,r,n=He.interaction.target.options[He.interaction.prepared.name].autoScroll,i=n.container||$(He.interaction.element),a=(new Date).getTime(),l=(a-He.prevTimeX)/1e3,d=(a-He.prevTimeY)/1e3;n.velocity?(e=n.velocity.x,t=n.velocity.y):e=t=n.speed,o=e*l,r=t*d,(o>=1||r>=1)&&(s(i)?i.scrollBy(He.x*o,He.y*r):i&&(i.scrollLeft+=He.x*o,i.scrollTop+=He.y*r),o>=1&&(He.prevTimeX=a),r>=1&&(He.prevTimeY=a)),He.isScrolling&&(Qe(He.i),He.i=Ke(He.scroll))},isScrolling:!1,prevTimeX:0,prevTimeY:0,start:function(e){He.isScrolling=!0,Qe(He.i),He.interaction=e,He.prevTimeX=(new Date).getTime(),He.prevTimeY=(new Date).getTime(),He.i=Ke(He.scroll)},stop:function(){He.isScrolling=!1,Qe(He.i)}},Ae="ontouchstart"in Ce||Ce.DocumentTouch&&Re instanceof Ce.DocumentTouch,Me=ze&&!/Chrome/.test(navigator.userAgent),Ie=Ae||Me?20:10,We=1,Ne=0,qe=1/0,Be=Re.all&&!Ce.atob?{drag:"move",resizex:"e-resize",resizey:"s-resize",resizexy:"se-resize",resizetop:"n-resize",resizeleft:"w-resize",resizebottom:"s-resize",resizeright:"e-resize",resizetopleft:"se-resize",resizebottomright:"se-resize",resizetopright:"ne-resize",resizebottomleft:"ne-resize",gesture:""}:{drag:"move",resizex:"ew-resize",resizey:"ns-resize",resizexy:"nwse-resize",resizetop:"ns-resize",resizeleft:"ew-resize",resizebottom:"ns-resize",resizeright:"ew-resize",resizetopleft:"nwse-resize",resizebottomright:"nwse-resize",resizetopright:"nesw-resize",resizebottomleft:"nesw-resize",gesture:""},je={drag:!0,resize:!0,gesture:!0},Oe="onmousewheel"in Re?"mousewheel":"wheel",Ve=["dragstart","dragmove","draginertiastart","dragend","dragenter","dragleave","dropactivate","dropdeactivate","dropmove","drop","resizestart","resizemove","resizeinertiastart","resizeend","gesturestart","gesturemove","gestureinertiastart","gestureend","down","move","up","cancel","tap","doubletap","hold"],Xe={},Ye="Opera"==navigator.appName&&Ae&&navigator.userAgent.match("Presto"),Ge=/iP(hone|od|ad)/.test(navigator.platform)&&/OS 7[^\d]/.test(navigator.appVersion),Ue="matches"in Element.prototype?"matches":"webkitMatchesSelector"in Element.prototype?"webkitMatchesSelector":"mozMatchesSelector"in Element.prototype?"mozMatchesSelector":"oMatchesSelector"in Element.prototype?"oMatchesSelector":"msMatchesSelector",Ke=o.requestAnimationFrame,Qe=o.cancelAnimationFrame,Je=function(){function e(e,t,a,h){var p=pe(d,e),f=c[p];if(f||(f={events:{},typeCount:0},p=d.push(e)-1,c.push(f),u.push(i?{supplied:[],wrapped:[],useCount:[]}:null)),f.events[t]||(f.events[t]=[],f.typeCount++),!fe(f.events[t],a)){var v;if(i){var m=u[p],g=pe(m.supplied,a),w=m.wrapped[g]||function(t){t.immediatePropagationStopped||(t.target=t.srcElement,t.currentTarget=e,t.preventDefault=t.preventDefault||o,t.stopPropagation=t.stopPropagation||r,t.stopImmediatePropagation=t.stopImmediatePropagation||n,/mouse|click/.test(t.type)&&(t.pageX=t.clientX+$(e).document.documentElement.scrollLeft,t.pageY=t.clientY+$(e).document.documentElement.scrollTop),a(t))};v=e[s](l+t,w,Boolean(h)),g===-1?(m.supplied.push(a),m.wrapped.push(w),m.useCount.push(1)):m.useCount[g]++}else v=e[s](t,a,h||!1);return f.events[t].push(a),v}}function t(e,o,r,n){var s,h,p,f=pe(d,e),v=c[f],m=r;if(v&&v.events)if(i&&(h=u[f],p=pe(h.supplied,r),m=h.wrapped[p]),"all"!==o){if(v.events[o]){var g=v.events[o].length;if("all"===r){for(s=0;s<g;s++)t(e,o,v.events[o][s],Boolean(n));return}for(s=0;s<g;s++)if(v.events[o][s]===r){e[a](l+o,m,n||!1),v.events[o].splice(s,1),i&&h&&(h.useCount[p]--,0===h.useCount[p]&&(h.supplied.splice(p,1),h.wrapped.splice(p,1),h.useCount.splice(p,1)));break}v.events[o]&&0===v.events[o].length&&(v.events[o]=null,v.typeCount--)}v.typeCount||(c.splice(f,1),d.splice(f,1),u.splice(f,1))}else for(o in v.events)v.events.hasOwnProperty(o)&&t(e,o,"all")}function o(){this.returnValue=!1}function r(){this.cancelBubble=!0}function n(){this.cancelBubble=!0,this.immediatePropagationStopped=!0}var i="attachEvent"in Ce&&!("addEventListener"in Ce),s=i?"attachEvent":"addEventListener",a=i?"detachEvent":"removeEventListener",l=i?"on":"",d=[],c=[],u=[];return{add:e,remove:t,useAttachEvent:i,_elements:d,_targets:c,_attachedListeners:u}}(),Ze={webkit:/(Movement[XY]|Radius[XY]|RotationAngle|Force)$/};Q.prototype={getPageXY:function(e,t){return x(e,t,this)},getClientXY:function(e,t){return S(e,t,this)},setEventXY:function(e,t){return w(e,t,this)},pointerOver:function(e,t,o){function r(e,t){e&&B(e,o)&&!j(e,o,o)&&O(e,o,o)&&ve(o,t)&&(n.push(e),i.push(o))}if(!this.prepared.name&&this.mouse){var n=[],i=[],s=this.element;this.addPointer(e),!this.target||!j(this.target,this.element,o)&&O(this.target,this.element,o)||(this.target=null,this.element=null,this.matches=[],this.matchElements=[]);var a=De.get(o),l=a&&!j(a,o,o)&&O(a,o,o)&&ie(a.getAction(e,t,this,o),a);l&&!U(a,o,l)&&(l=null),l?(this.target=a,this.element=o,this.matches=[],this.matchElements=[]):(De.forEachSelector(r),this.validateSelector(e,t,n,i)?(this.matches=n,this.matchElements=i,this.pointerHover(e,t,this.matches,this.matchElements),Je.add(o,Me?ge.move:"mousemove",et.pointerHover)):this.target&&(W(s,o)?(this.pointerHover(e,t,this.matches,this.matchElements),Je.add(this.element,Me?ge.move:"mousemove",et.pointerHover)):(this.target=null,this.element=null,this.matches=[],this.matchElements=[])))}},pointerHover:function(e,t,o,r,n,i){var s=this.target;if(!this.prepared.name&&this.mouse){var a;this.setEventXY(this.curCoords,[e]),n?a=this.validateSelector(e,t,n,i):s&&(a=ie(s.getAction(this.pointers[0],t,this,this.element),this.target)),s&&s.options.styleCursor&&(a?s._doc.documentElement.style.cursor=oe(a):s._doc.documentElement.style.cursor="")}else this.prepared.name&&this.checkAndPreventDefault(t,s,this.element)},pointerOut:function(e,t,o){this.prepared.name||(De.get(o)||Je.remove(o,Me?ge.move:"mousemove",et.pointerHover),this.target&&this.target.options.styleCursor&&!this.interacting()&&(this.target._doc.documentElement.style.cursor=""))},selectorDown:function(e,t,o,r){function n(e,t,r){var n=we?r.querySelectorAll(t):void 0;B(e,d)&&!j(e,d,o)&&O(e,d,o)&&ve(d,t,n)&&(a.matches.push(e),a.matchElements.push(d))}var s,a=this,l=Je.useAttachEvent?v({},t):t,d=o,c=this.addPointer(e);if(this.holdTimers[c]=setTimeout(function(){a.pointerHold(Je.useAttachEvent?l:e,l,o,r)},Fe._holdDuration),this.pointerIsDown=!0,this.inertiaStatus.active&&this.target.selector)for(;i(d);){if(d===this.element&&ie(this.target.getAction(e,t,this,this.element),this.target).name===this.prepared.name)return Qe(this.inertiaStatus.i),this.inertiaStatus.active=!1,void this.collectEventTargets(e,t,o,"down");d=q(d)}if(this.interacting())return void this.collectEventTargets(e,t,o,"down");for(this.setEventXY(this.curCoords,[e]),this.downEvent=t;i(d)&&!s;)this.matches=[],this.matchElements=[],De.forEachSelector(n),s=this.validateSelector(e,t,this.matches,this.matchElements),d=q(d);return s?(this.prepared.name=s.name,this.prepared.axis=s.axis,this.prepared.edges=s.edges,this.collectEventTargets(e,t,o,"down"),this.pointerDown(e,t,o,r,s)):(this.downTimes[c]=(new Date).getTime(),this.downTargets[c]=o,m(this.downPointer,e),g(this.prevCoords,this.curCoords),this.pointerWasMoved=!1,void this.collectEventTargets(e,t,o,"down"))},pointerDown:function(e,t,o,r,n){if(!n&&!this.inertiaStatus.active&&this.pointerWasMoved&&this.prepared.name)return void this.checkAndPreventDefault(t,this.target,this.element);this.pointerIsDown=!0,this.downEvent=t;var i,s=this.addPointer(e);if(this.pointerIds.length>1&&this.target._element===this.element){var a=ie(n||this.target.getAction(e,t,this,this.element),this.target);U(this.target,this.element,a)&&(i=a),this.prepared.name=null}else if(!this.prepared.name){var l=De.get(r);l&&!j(l,r,o)&&O(l,r,o)&&(i=ie(n||l.getAction(e,t,this,r),l,o))&&U(l,r,i)&&(this.target=l,this.element=r)}var d=this.target,c=d&&d.options;if(!d||!n&&this.prepared.name)this.inertiaStatus.active&&r===this.element&&ie(d.getAction(e,t,this,this.element),d).name===this.prepared.name&&(Qe(this.inertiaStatus.i),this.inertiaStatus.active=!1,this.checkAndPreventDefault(t,d,this.element));else{
if(i=i||ie(n||d.getAction(e,t,this,r),d,this.element),this.setEventXY(this.startCoords,this.pointers),!i)return;c.styleCursor&&(d._doc.documentElement.style.cursor=oe(i)),this.resizeAxes="resize"===i.name?i.axis:null,"gesture"===i&&this.pointerIds.length<2&&(i=null),this.prepared.name=i.name,this.prepared.axis=i.axis,this.prepared.edges=i.edges,this.snapStatus.snappedX=this.snapStatus.snappedY=this.restrictStatus.restrictedX=this.restrictStatus.restrictedY=NaN,this.downTimes[s]=(new Date).getTime(),this.downTargets[s]=o,m(this.downPointer,e),g(this.prevCoords,this.startCoords),this.pointerWasMoved=!1,this.checkAndPreventDefault(t,d,this.element)}},setModifications:function(e,t){var o=this.target,r=!0,n=X(o,this.prepared.name)&&(!o.options[this.prepared.name].snap.endOnly||t),i=Y(o,this.prepared.name)&&(!o.options[this.prepared.name].restrict.endOnly||t);return n?this.setSnapping(e):this.snapStatus.locked=!1,i?this.setRestriction(e):this.restrictStatus.restricted=!1,n&&this.snapStatus.locked&&!this.snapStatus.changed?r=i&&this.restrictStatus.restricted&&this.restrictStatus.changed:i&&this.restrictStatus.restricted&&!this.restrictStatus.changed&&(r=!1),r},setStartOffsets:function(e,t,o){var r,n,i=t.getRect(o),s=H(t,o),a=t.options[this.prepared.name].snap,l=t.options[this.prepared.name].restrict;i?(this.startOffset.left=this.startCoords.page.x-i.left,this.startOffset.top=this.startCoords.page.y-i.top,this.startOffset.right=i.right-this.startCoords.page.x,this.startOffset.bottom=i.bottom-this.startCoords.page.y,r="width"in i?i.width:i.right-i.left,n="height"in i?i.height:i.bottom-i.top):this.startOffset.left=this.startOffset.top=this.startOffset.right=this.startOffset.bottom=0,this.snapOffsets.splice(0);var d=a&&"startCoords"===a.offset?{x:this.startCoords.page.x-s.x,y:this.startCoords.page.y-s.y}:a&&a.offset||{x:0,y:0};if(i&&a&&a.relativePoints&&a.relativePoints.length)for(var c=0;c<a.relativePoints.length;c++)this.snapOffsets.push({x:this.startOffset.left-r*a.relativePoints[c].x+d.x,y:this.startOffset.top-n*a.relativePoints[c].y+d.y});else this.snapOffsets.push(d);i&&l.elementRect?(this.restrictOffset.left=this.startOffset.left-r*l.elementRect.left,this.restrictOffset.top=this.startOffset.top-n*l.elementRect.top,this.restrictOffset.right=this.startOffset.right-r*(1-l.elementRect.right),this.restrictOffset.bottom=this.startOffset.bottom-n*(1-l.elementRect.bottom)):this.restrictOffset.left=this.restrictOffset.top=this.restrictOffset.right=this.restrictOffset.bottom=0},start:function(e,t,o){this.interacting()||!this.pointerIsDown||this.pointerIds.length<("gesture"===e.name?2:1)||(pe(_e,this)===-1&&_e.push(this),this.prepared.name||this.setEventXY(this.startCoords,this.pointers),this.prepared.name=e.name,this.prepared.axis=e.axis,this.prepared.edges=e.edges,this.target=t,this.element=o,this.setStartOffsets(e.name,t,o),this.setModifications(this.startCoords.page),this.prevEvent=this[this.prepared.name+"Start"](this.downEvent))},pointerMove:function(e,t,o,r,n){if(this.inertiaStatus.active){var s=this.inertiaStatus.upCoords.page,a=this.inertiaStatus.upCoords.client,l={pageX:s.x+this.inertiaStatus.sx,pageY:s.y+this.inertiaStatus.sy,clientX:a.x+this.inertiaStatus.sx,clientY:a.y+this.inertiaStatus.sy};this.setEventXY(this.curCoords,[l])}else this.recordPointer(e),this.setEventXY(this.curCoords,this.pointers);var d,c,u=this.curCoords.page.x===this.prevCoords.page.x&&this.curCoords.page.y===this.prevCoords.page.y&&this.curCoords.client.x===this.prevCoords.client.x&&this.curCoords.client.y===this.prevCoords.client.y,h=this.mouse?0:pe(this.pointerIds,E(e));if(this.pointerIsDown&&!this.pointerWasMoved&&(d=this.curCoords.client.x-this.startCoords.client.x,c=this.curCoords.client.y-this.startCoords.client.y,this.pointerWasMoved=$e(d,c)>We),u||this.pointerIsDown&&!this.pointerWasMoved||(this.pointerIsDown&&clearTimeout(this.holdTimers[h]),this.collectEventTargets(e,t,o,"move")),this.pointerIsDown){if(u&&this.pointerWasMoved&&!n)return void this.checkAndPreventDefault(t,this.target,this.element);if(C(this.pointerDelta,this.prevCoords,this.curCoords),this.prepared.name){if(this.pointerWasMoved&&(!this.inertiaStatus.active||e instanceof ee&&/inertiastart/.test(e.type))){if(!this.interacting()&&(C(this.pointerDelta,this.prevCoords,this.curCoords),"drag"===this.prepared.name)){var p=Math.abs(d),f=Math.abs(c),v=this.target.options.drag.axis,m=p>f?"x":p<f?"y":"xy";if("xy"!==m&&"xy"!==v&&v!==m){this.prepared.name=null;for(var w=o;i(w);){var R=De.get(w);if(R&&R!==this.target&&!R.options.drag.manualStart&&"drag"===(R.getAction(this.downPointer,this.downEvent,this,w)||{}).name&&V(m,R)){this.prepared.name="drag",this.target=R,this.element=w;break}w=q(w)}if(!this.prepared.name){var y=this,x=function(e,t,r){var n=we?r.querySelectorAll(t):void 0;if(e!==y.target)return B(e,o)&&!e.options.drag.manualStart&&!j(e,w,o)&&O(e,w,o)&&ve(w,t,n)&&"drag"===e.getAction(y.downPointer,y.downEvent,y,w).name&&V(m,e)&&U(e,w,"drag")?e:void 0};for(w=o;i(w);){var S=De.forEachSelector(x);if(S){this.prepared.name="drag",this.target=S,this.element=w;break}w=q(w)}}}}var b=!!this.prepared.name&&!this.interacting();if(b&&(this.target.options[this.prepared.name].manualStart||!U(this.target,this.element,this.prepared)))return void this.stop(t);if(this.prepared.name&&this.target){b&&this.start(this.prepared,this.target,this.element);var z=this.setModifications(this.curCoords.page,n);(z||b)&&(this.prevEvent=this[this.prepared.name+"Move"](t)),this.checkAndPreventDefault(t,this.target,this.element)}}g(this.prevCoords,this.curCoords),(this.dragging||this.resizing)&&this.autoScrollMove(e)}}},dragStart:function(e){var t=new ee(this,e,"drag","start",this.element);t.originalEvent=e,this.dragging=!0,this.target.fire(t),this.activeDrops.dropzones=[],this.activeDrops.elements=[],this.activeDrops.rects=[],this.dynamicDrop||this.setActiveDrops(this.element);var o=this.getDropEvents(e,t);return o.activate&&this.fireActiveDrops(o.activate),t},dragMove:function(e){var t=this.target,o=new ee(this,e,"drag","move",this.element),r=this.element,n=this.getDrop(o,e,r);o.originalEvent=e,this.dropTarget=n.dropzone,this.dropElement=n.element;var i=this.getDropEvents(e,o);return t.fire(o),i.leave&&this.prevDropTarget.fire(i.leave),i.enter&&this.dropTarget.fire(i.enter),i.move&&this.dropTarget.fire(i.move),this.prevDropTarget=this.dropTarget,this.prevDropElement=this.dropElement,o},resizeStart:function(e){var t=new ee(this,e,"resize","start",this.element);if(this.prepared.edges){var o=this.target.getRect(this.element);if(this.target.options.resize.square||this.target.options.resize.preserveAspectRatio){var r=v({},this.prepared.edges);r.top=r.top||r.left&&!r.bottom,r.left=r.left||r.top&&!r.right,r.bottom=r.bottom||r.right&&!r.top,r.right=r.right||r.bottom&&!r.left,this.prepared._linkedEdges=r}else this.prepared._linkedEdges=null;this.target.options.resize.preserveAspectRatio&&(this.resizeStartAspectRatio=o.width/o.height),this.resizeRects={start:o,current:v({},o),restricted:v({},o),previous:v({},o),delta:{left:0,right:0,width:0,top:0,bottom:0,height:0}},t.rect=this.resizeRects.restricted,t.deltaRect=this.resizeRects.delta}return this.target.fire(t),this.resizing=!0,t},resizeMove:function(e){var t=new ee(this,e,"resize","move",this.element),o=this.prepared.edges,r=this.target.options.resize.invert,n="reposition"===r||"negate"===r;if(o){var i=t.dx,s=t.dy,a=this.resizeRects.start,l=this.resizeRects.current,d=this.resizeRects.restricted,c=this.resizeRects.delta,u=v(this.resizeRects.previous,d),h=o;if(this.target.options.resize.preserveAspectRatio){var p=this.resizeStartAspectRatio;o=this.prepared._linkedEdges,h.left&&h.bottom||h.right&&h.top?s=-i/p:h.left||h.right?s=i/p:(h.top||h.bottom)&&(i=s*p)}else this.target.options.resize.square&&(o=this.prepared._linkedEdges,h.left&&h.bottom||h.right&&h.top?s=-i:h.left||h.right?s=i:(h.top||h.bottom)&&(i=s));if(o.top&&(l.top+=s),o.bottom&&(l.bottom+=s),o.left&&(l.left+=i),o.right&&(l.right+=i),n){if(v(d,l),"reposition"===r){var f;d.top>d.bottom&&(f=d.top,d.top=d.bottom,d.bottom=f),d.left>d.right&&(f=d.left,d.left=d.right,d.right=f)}}else d.top=Math.min(l.top,a.bottom),d.bottom=Math.max(l.bottom,a.top),d.left=Math.min(l.left,a.right),d.right=Math.max(l.right,a.left);d.width=d.right-d.left,d.height=d.bottom-d.top;for(var m in d)c[m]=d[m]-u[m];t.edges=this.prepared.edges,t.rect=d,t.deltaRect=c}return this.target.fire(t),t},gestureStart:function(e){var t=new ee(this,e,"gesture","start",this.element);return t.ds=0,this.gesture.startDistance=this.gesture.prevDistance=t.distance,this.gesture.startAngle=this.gesture.prevAngle=t.angle,this.gesture.scale=1,this.gesturing=!0,this.target.fire(t),t},gestureMove:function(e){if(!this.pointerIds.length)return this.prevEvent;var t;return t=new ee(this,e,"gesture","move",this.element),t.ds=t.scale-this.gesture.scale,this.target.fire(t),this.gesture.prevAngle=t.angle,this.gesture.prevDistance=t.distance,t.scale===1/0||null===t.scale||void 0===t.scale||isNaN(t.scale)||(this.gesture.scale=t.scale),t},pointerHold:function(e,t,o){this.collectEventTargets(e,t,o,"hold")},pointerUp:function(e,t,o,r){var n=this.mouse?0:pe(this.pointerIds,E(e));clearTimeout(this.holdTimers[n]),this.collectEventTargets(e,t,o,"up"),this.collectEventTargets(e,t,o,"tap"),this.pointerEnd(e,t,o,r),this.removePointer(e)},pointerCancel:function(e,t,o,r){var n=this.mouse?0:pe(this.pointerIds,E(e));clearTimeout(this.holdTimers[n]),this.collectEventTargets(e,t,o,"cancel"),this.pointerEnd(e,t,o,r),this.removePointer(e)},ie8Dblclick:function(e,t,o){this.prevTap&&t.clientX===this.prevTap.clientX&&t.clientY===this.prevTap.clientY&&o===this.prevTap.target&&(this.downTargets[0]=o,this.downTimes[0]=(new Date).getTime(),this.collectEventTargets(e,t,o,"tap"))},pointerEnd:function(e,t,o,r){var n,i=this.target,s=i&&i.options,a=s&&this.prepared.name&&s[this.prepared.name].inertia,l=this.inertiaStatus;if(this.interacting()){if(l.active&&!l.ending)return;var d,c,u=(new Date).getTime(),h=!1,p=!1,f=!1,m=X(i,this.prepared.name)&&s[this.prepared.name].snap.endOnly,w=Y(i,this.prepared.name)&&s[this.prepared.name].restrict.endOnly,C=0,R=0;if(d=this.dragging?"x"===s.drag.axis?Math.abs(this.pointerDelta.client.vx):"y"===s.drag.axis?Math.abs(this.pointerDelta.client.vy):this.pointerDelta.client.speed:this.pointerDelta.client.speed,h=a&&a.enabled&&"gesture"!==this.prepared.name&&t!==l.startEvent,p=h&&u-this.curCoords.timeStamp<50&&d>a.minSpeed&&d>a.endSpeed,h&&!p&&(m||w)){var y={};y.snap=y.restrict=y,m&&(this.setSnapping(this.curCoords.page,y),y.locked&&(C+=y.dx,R+=y.dy)),w&&(this.setRestriction(this.curCoords.page,y),y.restricted&&(C+=y.dx,R+=y.dy)),(C||R)&&(f=!0)}if(p||f){if(g(l.upCoords,this.curCoords),this.pointers[0]=l.startEvent=c=new ee(this,t,this.prepared.name,"inertiastart",this.element),l.t0=u,i.fire(l.startEvent),p){l.vx0=this.pointerDelta.client.vx,l.vy0=this.pointerDelta.client.vy,l.v0=d,this.calcInertia(l);var x,S=v({},this.curCoords.page),b=H(i,this.element);if(S.x=S.x+l.xe-b.x,S.y=S.y+l.ye-b.y,x={useStatusXY:!0,x:S.x,y:S.y,dx:0,dy:0,snap:null},x.snap=x,C=R=0,m){var E=this.setSnapping(this.curCoords.page,x);E.locked&&(C+=E.dx,R+=E.dy)}if(w){var z=this.setRestriction(this.curCoords.page,x);z.restricted&&(C+=z.dx,R+=z.dy)}l.modifiedXe+=C,l.modifiedYe+=R,l.i=Ke(this.boundInertiaFrame)}else l.smoothEnd=!0,l.xe=C,l.ye=R,l.sx=l.sy=0,l.i=Ke(this.boundSmoothEndFrame);return void(l.active=!0)}(m||w)&&this.pointerMove(e,t,o,r,!0)}if(this.dragging){n=new ee(this,t,"drag","end",this.element);var $=this.element,T=this.getDrop(n,t,$);this.dropTarget=T.dropzone,this.dropElement=T.element;var L=this.getDropEvents(t,n);L.leave&&this.prevDropTarget.fire(L.leave),L.enter&&this.dropTarget.fire(L.enter),L.drop&&this.dropTarget.fire(L.drop),L.deactivate&&this.fireActiveDrops(L.deactivate),i.fire(n)}else this.resizing?(n=new ee(this,t,"resize","end",this.element),i.fire(n)):this.gesturing&&(n=new ee(this,t,"gesture","end",this.element),i.fire(n));this.stop(t)},collectDrops:function(e){var t,o=[],r=[];for(e=e||this.element,t=0;t<De.length;t++)if(De[t].options.drop.enabled){var n=De[t],s=n.options.drop.accept;if(!(i(s)&&s!==e||p(s)&&!ve(e,s)))for(var a=n.selector?n._context.querySelectorAll(n.selector):[n._element],l=0,d=a.length;l<d;l++){var c=a[l];c!==e&&(o.push(n),r.push(c))}}return{dropzones:o,elements:r}},fireActiveDrops:function(e){var t,o,r,n;for(t=0;t<this.activeDrops.dropzones.length;t++)o=this.activeDrops.dropzones[t],r=this.activeDrops.elements[t],r!==n&&(e.target=r,o.fire(e)),n=r},setActiveDrops:function(e){var t=this.collectDrops(e,!0);this.activeDrops.dropzones=t.dropzones,this.activeDrops.elements=t.elements,this.activeDrops.rects=[];for(var o=0;o<this.activeDrops.dropzones.length;o++)this.activeDrops.rects[o]=this.activeDrops.dropzones[o].getRect(this.activeDrops.elements[o])},getDrop:function(e,t,o){var r=[];ke&&this.setActiveDrops(o);for(var n=0;n<this.activeDrops.dropzones.length;n++){var i=this.activeDrops.dropzones[n],s=this.activeDrops.elements[n],a=this.activeDrops.rects[n];r.push(i.dropCheck(e,t,this.target,o,s,a)?s:null)}var l=K(r),d=this.activeDrops.dropzones[l]||null,c=this.activeDrops.elements[l]||null;return{dropzone:d,element:c}},getDropEvents:function(e,t){var o={enter:null,leave:null,activate:null,deactivate:null,move:null,drop:null};return this.dropElement!==this.prevDropElement&&(this.prevDropTarget&&(o.leave={target:this.prevDropElement,dropzone:this.prevDropTarget,relatedTarget:t.target,draggable:t.interactable,dragEvent:t,interaction:this,timeStamp:t.timeStamp,type:"dragleave"},t.dragLeave=this.prevDropElement,t.prevDropzone=this.prevDropTarget),this.dropTarget&&(o.enter={target:this.dropElement,dropzone:this.dropTarget,relatedTarget:t.target,draggable:t.interactable,dragEvent:t,interaction:this,timeStamp:t.timeStamp,type:"dragenter"},t.dragEnter=this.dropElement,t.dropzone=this.dropTarget)),"dragend"===t.type&&this.dropTarget&&(o.drop={target:this.dropElement,dropzone:this.dropTarget,relatedTarget:t.target,draggable:t.interactable,dragEvent:t,interaction:this,timeStamp:t.timeStamp,type:"drop"},t.dropzone=this.dropTarget),"dragstart"===t.type&&(o.activate={target:null,dropzone:null,relatedTarget:t.target,draggable:t.interactable,dragEvent:t,interaction:this,timeStamp:t.timeStamp,type:"dropactivate"}),"dragend"===t.type&&(o.deactivate={target:null,dropzone:null,relatedTarget:t.target,draggable:t.interactable,dragEvent:t,interaction:this,timeStamp:t.timeStamp,type:"dropdeactivate"}),"dragmove"===t.type&&this.dropTarget&&(o.move={target:this.dropElement,dropzone:this.dropTarget,relatedTarget:t.target,draggable:t.interactable,dragEvent:t,interaction:this,dragmove:t,timeStamp:t.timeStamp,type:"dropmove"},t.dropzone=this.dropTarget),o},currentAction:function(){return this.dragging&&"drag"||this.resizing&&"resize"||this.gesturing&&"gesture"||null},interacting:function(){return this.dragging||this.resizing||this.gesturing},clearTargets:function(){this.target=this.element=null,this.dropTarget=this.dropElement=this.prevDropTarget=this.prevDropElement=null},stop:function(e){if(this.interacting()){He.stop(),this.matches=[],this.matchElements=[];var t=this.target;t.options.styleCursor&&(t._doc.documentElement.style.cursor=""),e&&c(e.preventDefault)&&this.checkAndPreventDefault(e,t,this.element),this.dragging&&(this.activeDrops.dropzones=this.activeDrops.elements=this.activeDrops.rects=null)}this.clearTargets(),this.pointerIsDown=this.snapStatus.locked=this.dragging=this.resizing=this.gesturing=!1,this.prepared.name=this.prevEvent=null,this.inertiaStatus.resumeDx=this.inertiaStatus.resumeDy=0;for(var o=0;o<this.pointers.length;o++)pe(this.pointerIds,E(this.pointers[o]))===-1&&this.pointers.splice(o,1)},inertiaFrame:function(){var e=this.inertiaStatus,t=this.target.options[this.prepared.name].inertia,o=t.resistance,r=(new Date).getTime()/1e3-e.t0;if(r<e.te){var n=1-(Math.exp(-o*r)-e.lambda_v0)/e.one_ve_v0;if(e.modifiedXe===e.xe&&e.modifiedYe===e.ye)e.sx=e.xe*n,e.sy=e.ye*n;else{var i=M(0,0,e.xe,e.ye,e.modifiedXe,e.modifiedYe,n);e.sx=i.x,e.sy=i.y}this.pointerMove(e.startEvent,e.startEvent),e.i=Ke(this.boundInertiaFrame)}else e.ending=!0,e.sx=e.modifiedXe,e.sy=e.modifiedYe,this.pointerMove(e.startEvent,e.startEvent),this.pointerEnd(e.startEvent,e.startEvent),e.active=e.ending=!1},smoothEndFrame:function(){var e=this.inertiaStatus,t=(new Date).getTime()-e.t0,o=this.target.options[this.prepared.name].inertia.smoothEndDuration;t<o?(e.sx=I(t,0,e.xe,o),e.sy=I(t,0,e.ye,o),this.pointerMove(e.startEvent,e.startEvent),e.i=Ke(this.boundSmoothEndFrame)):(e.ending=!0,e.sx=e.xe,e.sy=e.ye,this.pointerMove(e.startEvent,e.startEvent),this.pointerEnd(e.startEvent,e.startEvent),e.smoothEnd=e.active=e.ending=!1)},addPointer:function(e){var t=E(e),o=this.mouse?0:pe(this.pointerIds,t);return o===-1&&(o=this.pointerIds.length),this.pointerIds[o]=t,this.pointers[o]=e,o},removePointer:function(e){var t=E(e),o=this.mouse?0:pe(this.pointerIds,t);o!==-1&&(this.pointers.splice(o,1),this.pointerIds.splice(o,1),this.downTargets.splice(o,1),this.downTimes.splice(o,1),this.holdTimers.splice(o,1))},recordPointer:function(e){var t=this.mouse?0:pe(this.pointerIds,E(e));t!==-1&&(this.pointers[t]=e)},collectEventTargets:function(e,t,o,r){function n(e,t,n){var s=we?n.querySelectorAll(t):void 0;e._iEvents[r]&&i(d)&&B(e,d)&&!j(e,d,o)&&O(e,d,o)&&ve(d,t,s)&&(a.push(e),l.push(d))}var s=this.mouse?0:pe(this.pointerIds,E(e));if("tap"!==r||!this.pointerWasMoved&&this.downTargets[s]&&this.downTargets[s]===o){for(var a=[],l=[],d=o;d;)le.isSet(d)&&le(d)._iEvents[r]&&(a.push(le(d)),l.push(d)),De.forEachSelector(n),d=q(d);(a.length||"tap"===r)&&this.firePointers(e,t,o,a,l,r)}},firePointers:function(e,t,o,r,n,i){var s,a,l,d=this.mouse?0:pe(this.pointerIds,E(e)),c={};for("doubletap"===i?c=e:(m(c,t),t!==e&&m(c,e),c.preventDefault=te,c.stopPropagation=ee.prototype.stopPropagation,c.stopImmediatePropagation=ee.prototype.stopImmediatePropagation,c.interaction=this,c.timeStamp=(new Date).getTime(),c.originalEvent=t,c.originalPointer=e,c.type=i,c.pointerId=E(e),c.pointerType=this.mouse?"mouse":Me?p(e.pointerType)?e.pointerType:[,,"touch","pen","mouse"][e.pointerType]:"touch"),"tap"===i&&(c.dt=c.timeStamp-this.downTimes[d],a=c.timeStamp-this.tapTime,l=!!(this.prevTap&&"doubletap"!==this.prevTap.type&&this.prevTap.target===c.target&&a<500),c.double=l,this.tapTime=c.timeStamp),s=0;s<r.length&&(c.currentTarget=n[s],c.interactable=r[s],r[s].fire(c),!(c.immediatePropagationStopped||c.propagationStopped&&n[s+1]!==c.currentTarget));s++);if(l){var u={};v(u,c),u.dt=a,u.type="doubletap",this.collectEventTargets(u,t,o,"doubletap"),this.prevTap=u}else"tap"===i&&(this.prevTap=c)},validateSelector:function(e,t,o,r){for(var n=0,i=o.length;n<i;n++){var s=o[n],a=r[n],l=ie(s.getAction(e,t,this,a),s);if(l&&U(s,a,l))return this.target=s,this.element=a,l}},setSnapping:function(e,t){var o,r,n,i=this.target.options[this.prepared.name].snap,s=[];if(t=t||this.snapStatus,t.useStatusXY)r={x:t.x,y:t.y};else{var a=H(this.target,this.element);r=v({},e),r.x-=a.x,r.y-=a.y}t.realX=r.x,t.realY=r.y,r.x=r.x-this.inertiaStatus.resumeDx,r.y=r.y-this.inertiaStatus.resumeDy;for(var l=i.targets?i.targets.length:0,d=0;d<this.snapOffsets.length;d++){var h={x:r.x-this.snapOffsets[d].x,y:r.y-this.snapOffsets[d].y};for(n=0;n<l;n++)o=c(i.targets[n])?i.targets[n](h.x,h.y,this):i.targets[n],o&&s.push({x:u(o.x)?o.x+this.snapOffsets[d].x:h.x,y:u(o.y)?o.y+this.snapOffsets[d].y:h.y,range:u(o.range)?o.range:i.range})}var p={target:null,inRange:!1,distance:0,range:0,dx:0,dy:0};for(n=0,l=s.length;n<l;n++){o=s[n];var f=o.range,m=o.x-r.x,g=o.y-r.y,w=$e(m,g),C=w<=f;f===1/0&&p.inRange&&p.range!==1/0&&(C=!1),p.target&&!(C?p.inRange&&f!==1/0?w/f<p.distance/p.range:f===1/0&&p.range!==1/0||w<p.distance:!p.inRange&&w<p.distance)||(f===1/0&&(C=!0),p.target=o,p.distance=w,p.range=f,p.inRange=C,p.dx=m,p.dy=g,t.range=f)}var R;return p.target?(R=t.snappedX!==p.target.x||t.snappedY!==p.target.y,t.snappedX=p.target.x,t.snappedY=p.target.y):(R=!0,t.snappedX=NaN,t.snappedY=NaN),t.dx=p.dx,t.dy=p.dy,t.changed=R||p.inRange&&!t.locked,t.locked=p.inRange,t},setRestriction:function(e,t){var o,r=this.target,n=r&&r.options[this.prepared.name].restrict,s=n&&n.restriction;if(!s)return t;t=t||this.restrictStatus,o=o=t.useStatusXY?{x:t.x,y:t.y}:v({},e),t.snap&&t.snap.locked&&(o.x+=t.snap.dx||0,o.y+=t.snap.dy||0),o.x-=this.inertiaStatus.resumeDx,o.y-=this.inertiaStatus.resumeDy,t.dx=0,t.dy=0,t.restricted=!1;var a,l,d;return p(s)&&(s="parent"===s?q(this.element):"self"===s?r.getRect(this.element):N(this.element,s),!s)?t:(c(s)&&(s=s(o.x,o.y,this.element)),i(s)&&(s=L(s)),a=s,s?"x"in s&&"y"in s?(l=Math.max(Math.min(a.x+a.width-this.restrictOffset.right,o.x),a.x+this.restrictOffset.left),d=Math.max(Math.min(a.y+a.height-this.restrictOffset.bottom,o.y),a.y+this.restrictOffset.top)):(l=Math.max(Math.min(a.right-this.restrictOffset.right,o.x),a.left+this.restrictOffset.left),d=Math.max(Math.min(a.bottom-this.restrictOffset.bottom,o.y),a.top+this.restrictOffset.top)):(l=o.x,d=o.y),t.dx=l-o.x,t.dy=d-o.y,t.changed=t.restrictedX!==l||t.restrictedY!==d,t.restricted=!(!t.dx&&!t.dy),t.restrictedX=l,t.restrictedY=d,t)},checkAndPreventDefault:function(e,t,o){if(t=t||this.target){var r=t.options,n=r.preventDefault;if("auto"===n&&o&&!/^(input|select|textarea)$/i.test(e.target.nodeName)){if(/down|start/i.test(e.type)&&"drag"===this.prepared.name&&"xy"!==r.drag.axis)return;if(r[this.prepared.name]&&r[this.prepared.name].manualStart&&!this.interacting())return;return void e.preventDefault()}return"always"===n?void e.preventDefault():void 0}},calcInertia:function(e){var t=this.target.options[this.prepared.name].inertia,o=t.resistance,r=-Math.log(t.endSpeed/e.v0)/o;e.x0=this.prevEvent.pageX,e.y0=this.prevEvent.pageY,e.t0=e.startEvent.timeStamp/1e3,e.sx=e.sy=0,e.modifiedXe=e.xe=(e.vx0-r)/o,e.modifiedYe=e.ye=(e.vy0-r)/o,e.te=r,e.lambda_v0=o/e.v0,e.one_ve_v0=1-t.endSpeed/e.v0},autoScrollMove:function(e){if(this.interacting()&&G(this.target,this.prepared.name)){if(this.inertiaStatus.active)return void(He.x=He.y=0);var t,o,r,n,i=this.target.options[this.prepared.name].autoScroll,a=i.container||$(this.element);if(s(a))n=e.clientX<He.margin,t=e.clientY<He.margin,o=e.clientX>a.innerWidth-He.margin,r=e.clientY>a.innerHeight-He.margin;else{var l=T(a);n=e.clientX<l.left+He.margin,t=e.clientY<l.top+He.margin,o=e.clientX>l.right-He.margin,r=e.clientY>l.bottom-He.margin}He.x=o?1:n?-1:0,He.y=r?1:t?-1:0,He.isScrolling||(He.margin=i.margin,He.speed=i.speed,He.start(this))}},_updateEventTargets:function(e,t){this._eventTarget=e,this._curEventTarget=t}},ee.prototype={preventDefault:n,stopImmediatePropagation:function(){this.immediatePropagationStopped=this.propagationStopped=!0},stopPropagation:function(){this.propagationStopped=!0}};for(var et={},tt=["dragStart","dragMove","resizeStart","resizeMove","gestureStart","gestureMove","pointerOver","pointerOut","pointerHover","selectorDown","pointerDown","pointerMove","pointerUp","pointerCancel","pointerEnd","addPointer","removePointer","recordPointer","autoScrollMove"],ot=0,rt=tt.length;ot<rt;ot++){var nt=tt[ot];et[nt]=Z(nt)}De.indexOfElement=function(e,t){t=t||Re;for(var o=0;o<this.length;o++){var r=this[o];if(r.selector===e&&r._context===t||!r.selector&&r._element===e)return o}return-1},De.get=function(e,t){return this[this.indexOfElement(e,t&&t.context)]},De.forEachSelector=function(e){for(var t=0;t<this.length;t++){var o=this[t];if(o.selector){var r=e(o,o.selector,o._context,t,this);if(void 0!==r)return r}}},de.prototype={setOnEvents:function(e,t){return"drop"===e?(c(t.ondrop)&&(this.ondrop=t.ondrop),c(t.ondropactivate)&&(this.ondropactivate=t.ondropactivate),c(t.ondropdeactivate)&&(this.ondropdeactivate=t.ondropdeactivate),c(t.ondragenter)&&(this.ondragenter=t.ondragenter),c(t.ondragleave)&&(this.ondragleave=t.ondragleave),c(t.ondropmove)&&(this.ondropmove=t.ondropmove)):(e="on"+e,c(t.onstart)&&(this[e+"start"]=t.onstart),c(t.onmove)&&(this[e+"move"]=t.onmove),c(t.onend)&&(this[e+"end"]=t.onend),c(t.oninertiastart)&&(this[e+"inertiastart"]=t.oninertiastart)),this},draggable:function(e){return d(e)?(this.options.drag.enabled=e.enabled!==!1,this.setPerAction("drag",e),this.setOnEvents("drag",e),/^x$|^y$|^xy$/.test(e.axis)?this.options.drag.axis=e.axis:null===e.axis&&delete this.options.drag.axis,this):h(e)?(this.options.drag.enabled=e,this):this.options.drag},setPerAction:function(e,t){for(var o in t)o in Fe[e]&&(d(t[o])?(this.options[e][o]=v(this.options[e][o]||{},t[o]),d(Fe.perAction[o])&&"enabled"in Fe.perAction[o]&&(this.options[e][o].enabled=t[o].enabled!==!1)):h(t[o])&&d(Fe.perAction[o])?this.options[e][o].enabled=t[o]:void 0!==t[o]&&(this.options[e][o]=t[o]))},dropzone:function(e){return d(e)?(this.options.drop.enabled=e.enabled!==!1,this.setOnEvents("drop",e),/^(pointer|center)$/.test(e.overlap)?this.options.drop.overlap=e.overlap:u(e.overlap)&&(this.options.drop.overlap=Math.max(Math.min(1,e.overlap),0)),"accept"in e&&(this.options.drop.accept=e.accept),"checker"in e&&(this.options.drop.checker=e.checker),this):h(e)?(this.options.drop.enabled=e,this):this.options.drop},dropCheck:function(e,t,o,r,n,i){var s=!1;if(!(i=i||this.getRect(n)))return!!this.options.drop.checker&&this.options.drop.checker(e,t,s,this,n,o,r);var a=this.options.drop.overlap;if("pointer"===a){var l,d,c=x(e),h=H(o,r);c.x+=h.x,c.y+=h.y,l=c.x>i.left&&c.x<i.right,d=c.y>i.top&&c.y<i.bottom,s=l&&d}var p=o.getRect(r);if("center"===a){var f=p.left+p.width/2,v=p.top+p.height/2;s=f>=i.left&&f<=i.right&&v>=i.top&&v<=i.bottom}if(u(a)){var m=Math.max(0,Math.min(i.right,p.right)-Math.max(i.left,p.left))*Math.max(0,Math.min(i.bottom,p.bottom)-Math.max(i.top,p.top)),g=m/(p.width*p.height);s=g>=a}return this.options.drop.checker&&(s=this.options.drop.checker(e,t,s,this,n,o,r)),s},dropChecker:function(e){return c(e)?(this.options.drop.checker=e,this):null===e?(delete this.options.getRect,this):this.options.drop.checker},accept:function(e){return i(e)?(this.options.drop.accept=e,this):f(e)?(this.options.drop.accept=e,this):null===e?(delete this.options.drop.accept,this):this.options.drop.accept},resizable:function(e){return d(e)?(this.options.resize.enabled=e.enabled!==!1,this.setPerAction("resize",e),this.setOnEvents("resize",e),/^x$|^y$|^xy$/.test(e.axis)?this.options.resize.axis=e.axis:null===e.axis&&(this.options.resize.axis=Fe.resize.axis),h(e.preserveAspectRatio)?this.options.resize.preserveAspectRatio=e.preserveAspectRatio:h(e.square)&&(this.options.resize.square=e.square),this):h(e)?(this.options.resize.enabled=e,this):this.options.resize},squareResize:function(e){return h(e)?(this.options.resize.square=e,this):null===e?(delete this.options.resize.square,this):this.options.resize.square},gesturable:function(e){return d(e)?(this.options.gesture.enabled=e.enabled!==!1,this.setPerAction("gesture",e),this.setOnEvents("gesture",e),this):h(e)?(this.options.gesture.enabled=e,this):this.options.gesture},autoScroll:function(e){return d(e)?e=v({actions:["drag","resize"]},e):h(e)&&(e={actions:["drag","resize"],enabled:e}),this.setOptions("autoScroll",e)},snap:function(e){var t=this.setOptions("snap",e);return t===this?this:t.drag},setOptions:function(e,t){var o,r=t&&l(t.actions)?t.actions:["drag"];if(d(t)||h(t)){for(o=0;o<r.length;o++){var n=/resize/.test(r[o])?"resize":r[o];if(d(this.options[n])){var i=this.options[n][e];d(t)?(v(i,t),i.enabled=t.enabled!==!1,"snap"===e&&("grid"===i.mode?i.targets=[le.createSnapGrid(v({offset:i.gridOffset||{x:0,y:0}},i.grid||{}))]:"anchor"===i.mode?i.targets=i.anchors:"path"===i.mode&&(i.targets=i.paths),"elementOrigin"in t&&(i.relativePoints=[t.elementOrigin]))):h(t)&&(i.enabled=t)}}return this}var s={},a=["drag","resize","gesture"];for(o=0;o<a.length;o++)e in Fe[a[o]]&&(s[a[o]]=this.options[a[o]][e]);return s},inertia:function(e){var t=this.setOptions("inertia",e);return t===this?this:t.drag},getAction:function(e,t,o,r){var n=this.defaultActionChecker(e,o,r);return this.options.actionChecker?this.options.actionChecker(e,t,n,this,r,o):n},defaultActionChecker:ne,actionChecker:function(e){return c(e)?(this.options.actionChecker=e,this):null===e?(delete this.options.actionChecker,this):this.options.actionChecker},getRect:function(e){return e=e||this._element,this.selector&&!i(e)&&(e=this._context.querySelector(this.selector)),L(e)},rectChecker:function(e){return c(e)?(this.getRect=e,this):null===e?(delete this.options.getRect,this):this.getRect},styleCursor:function(e){return h(e)?(this.options.styleCursor=e,this):null===e?(delete this.options.styleCursor,this):this.options.styleCursor},preventDefault:function(e){return/^(always|never|auto)$/.test(e)?(this.options.preventDefault=e,this):h(e)?(this.options.preventDefault=e?"always":"never",this):this.options.preventDefault},origin:function(e){return f(e)?(this.options.origin=e,this):d(e)?(this.options.origin=e,this):this.options.origin},deltaSource:function(e){return"page"===e||"client"===e?(this.options.deltaSource=e,this):this.options.deltaSource},restrict:function(e){if(!d(e))return this.setOptions("restrict",e);for(var t,o=["drag","resize","gesture"],r=0;r<o.length;r++){var n=o[r];if(n in e){var i=v({actions:[n],restriction:e[n]},e);t=this.setOptions("restrict",i)}}return t},context:function(){return this._context},_context:Re,ignoreFrom:function(e){return f(e)?(this.options.ignoreFrom=e,this):i(e)?(this.options.ignoreFrom=e,this):this.options.ignoreFrom},allowFrom:function(e){return f(e)?(this.options.allowFrom=e,this):i(e)?(this.options.allowFrom=e,this):this.options.allowFrom},element:function(){return this._element},fire:function(e){if(!e||!e.type||!fe(Ve,e.type))return this;var t,o,r,n="on"+e.type,i="";if(e.type in this._iEvents)for(t=this._iEvents[e.type],o=0,r=t.length;o<r&&!e.immediatePropagationStopped;o++)i=t[o].name,t[o](e);if(c(this[n])&&(i=this[n].name,this[n](e)),e.type in Xe&&(t=Xe[e.type]))for(o=0,r=t.length;o<r&&!e.immediatePropagationStopped;o++)i=t[o].name,t[o](e);return this},on:function(e,t,o){var r;if(p(e)&&e.search(" ")!==-1&&(e=e.trim().split(/ +/)),l(e)){for(r=0;r<e.length;r++)this.on(e[r],t,o);return this}if(d(e)){for(var n in e)this.on(n,e[n],t);return this}if("wheel"===e&&(e=Oe),o=!!o,fe(Ve,e))e in this._iEvents?this._iEvents[e].push(t):this._iEvents[e]=[t];else if(this.selector){if(!Pe[e])for(Pe[e]={selectors:[],contexts:[],listeners:[]},r=0;r<Le.length;r++)Je.add(Le[r],e,se),Je.add(Le[r],e,ae,!0);var i,s=Pe[e];for(i=s.selectors.length-1;i>=0&&(s.selectors[i]!==this.selector||s.contexts[i]!==this._context);i--);i===-1&&(i=s.selectors.length,s.selectors.push(this.selector),s.contexts.push(this._context),s.listeners.push([])),s.listeners[i].push([t,o])}else Je.add(this._element,e,t,o);return this},off:function(e,t,o){var r;if(p(e)&&e.search(" ")!==-1&&(e=e.trim().split(/ +/)),l(e)){for(r=0;r<e.length;r++)this.off(e[r],t,o);return this}if(d(e)){for(var n in e)this.off(n,e[n],t);return this}var i,s=-1;if(o=!!o,"wheel"===e&&(e=Oe),fe(Ve,e))i=this._iEvents[e],i&&(s=pe(i,t))!==-1&&this._iEvents[e].splice(s,1);else if(this.selector){var a=Pe[e],c=!1;if(!a)return this;for(s=a.selectors.length-1;s>=0;s--)if(a.selectors[s]===this.selector&&a.contexts[s]===this._context){var u=a.listeners[s];for(r=u.length-1;r>=0;r--){var h=u[r][0],f=u[r][1];if(h===t&&f===o){u.splice(r,1),u.length||(a.selectors.splice(s,1),a.contexts.splice(s,1),a.listeners.splice(s,1),Je.remove(this._context,e,se),Je.remove(this._context,e,ae,!0),a.selectors.length||(Pe[e]=null)),c=!0;break}}if(c)break}}else Je.remove(this._element,e,t,o);return this},set:function(e){d(e)||(e={}),this.options=v({},Fe.base);var t,o=["drag","drop","resize","gesture"],r=["draggable","dropzone","resizable","gesturable"],n=v(v({},Fe.perAction),e[i]||{});for(t=0;t<o.length;t++){var i=o[t];this.options[i]=v({},Fe[i]),this.setPerAction(i,n),this[r[t]](e[i])}var s=["accept","actionChecker","allowFrom","deltaSource","dropChecker","ignoreFrom","origin","preventDefault","rectChecker","styleCursor"];
for(t=0,rt=s.length;t<rt;t++){var a=s[t];this.options[a]=Fe.base[a],a in e&&this[a](e[a])}return this},unset:function(){if(Je.remove(this._element,"all"),p(this.selector))for(var e in Pe)for(var t=Pe[e],o=0;o<t.selectors.length;o++){t.selectors[o]===this.selector&&t.contexts[o]===this._context&&(t.selectors.splice(o,1),t.contexts.splice(o,1),t.listeners.splice(o,1),t.selectors.length||(Pe[e]=null)),Je.remove(this._context,e,se),Je.remove(this._context,e,ae,!0);break}else Je.remove(this,"all"),this.options.styleCursor&&(this._element.style.cursor="");return this.dropzone(!1),De.splice(pe(De,this),1),le}},de.prototype.snap=ce(de.prototype.snap,"Interactable#snap is deprecated. See the new documentation for snapping at http://interactjs.io/docs/snapping"),de.prototype.restrict=ce(de.prototype.restrict,"Interactable#restrict is deprecated. See the new documentation for resticting at http://interactjs.io/docs/restriction"),de.prototype.inertia=ce(de.prototype.inertia,"Interactable#inertia is deprecated. See the new documentation for inertia at http://interactjs.io/docs/inertia"),de.prototype.autoScroll=ce(de.prototype.autoScroll,"Interactable#autoScroll is deprecated. See the new documentation for autoScroll at http://interactjs.io/docs/#autoscroll"),de.prototype.squareResize=ce(de.prototype.squareResize,"Interactable#squareResize is deprecated. See http://interactjs.io/docs/#resize-square"),de.prototype.accept=ce(de.prototype.accept,"Interactable#accept is deprecated. use Interactable#dropzone({ accept: target }) instead"),de.prototype.dropChecker=ce(de.prototype.dropChecker,"Interactable#dropChecker is deprecated. use Interactable#dropzone({ dropChecker: checkerFunction }) instead"),de.prototype.context=ce(de.prototype.context,"Interactable#context as a method is deprecated. It will soon be a DOM Node instead"),le.isSet=function(e,t){return De.indexOfElement(e,t&&t.context)!==-1},le.on=function(e,t,o){if(p(e)&&e.search(" ")!==-1&&(e=e.trim().split(/ +/)),l(e)){for(var r=0;r<e.length;r++)le.on(e[r],t,o);return le}if(d(e)){for(var n in e)le.on(n,e[n],t);return le}return fe(Ve,e)?Xe[e]?Xe[e].push(t):Xe[e]=[t]:Je.add(Re,e,t,o),le},le.off=function(e,t,o){if(p(e)&&e.search(" ")!==-1&&(e=e.trim().split(/ +/)),l(e)){for(var r=0;r<e.length;r++)le.off(e[r],t,o);return le}if(d(e)){for(var n in e)le.off(n,e[n],t);return le}if(fe(Ve,e)){var i;e in Xe&&(i=pe(Xe[e],t))!==-1&&Xe[e].splice(i,1)}else Je.remove(Re,e,t,o);return le},le.enableDragging=ce(function(e){return null!==e&&void 0!==e?(je.drag=e,le):je.drag},"interact.enableDragging is deprecated and will soon be removed."),le.enableResizing=ce(function(e){return null!==e&&void 0!==e?(je.resize=e,le):je.resize},"interact.enableResizing is deprecated and will soon be removed."),le.enableGesturing=ce(function(e){return null!==e&&void 0!==e?(je.gesture=e,le):je.gesture},"interact.enableGesturing is deprecated and will soon be removed."),le.eventTypes=Ve,le.debug=function(){var e=_e[0]||new Q;return{interactions:_e,target:e.target,dragging:e.dragging,resizing:e.resizing,gesturing:e.gesturing,prepared:e.prepared,matches:e.matches,matchElements:e.matchElements,prevCoords:e.prevCoords,startCoords:e.startCoords,pointerIds:e.pointerIds,pointers:e.pointers,addPointer:et.addPointer,removePointer:et.removePointer,recordPointer:et.recordPointer,snap:e.snapStatus,restrict:e.restrictStatus,inertia:e.inertiaStatus,downTime:e.downTimes[0],downEvent:e.downEvent,downPointer:e.downPointer,prevEvent:e.prevEvent,Interactable:de,interactables:De,pointerIsDown:e.pointerIsDown,defaultOptions:Fe,defaultActionChecker:ne,actionCursors:Be,dragMove:et.dragMove,resizeMove:et.resizeMove,gestureMove:et.gestureMove,pointerUp:et.pointerUp,pointerDown:et.pointerDown,pointerMove:et.pointerMove,pointerHover:et.pointerHover,eventTypes:Ve,events:Je,globalEvents:Xe,delegatedEvents:Pe,prefixedPropREs:Ze}},le.getPointerAverage=_,le.getTouchBBox=k,le.getTouchDistance=P,le.getTouchAngle=F,le.getElementRect=L,le.getElementClientRect=T,le.matchesSelector=ve,le.closest=N,le.margin=ce(function(e){return u(e)?(Ie=e,le):Ie},"interact.margin is deprecated. Use interact(target).resizable({ margin: number }); instead."),le.supportsTouch=function(){return Ae},le.supportsPointerEvent=function(){return Me},le.stop=function(e){for(var t=_e.length-1;t>=0;t--)_e[t].stop(e);return le},le.dynamicDrop=function(e){return h(e)?(ke=e,le):ke},le.pointerMoveTolerance=function(e){return u(e)?(We=e,this):We},le.maxInteractions=function(e){return u(e)?(qe=e,this):qe},le.createSnapGrid=function(e){return function(t,o){var r=0,n=0;d(e.offset)&&(r=e.offset.x,n=e.offset.y);var i=Math.round((t-r)/e.x),s=Math.round((o-n)/e.y),a=i*e.x+r,l=s*e.y+n;return{x:a,y:l,range:e.range}}},he(Re),Ue in Element.prototype&&c(Element.prototype[Ue])||(we=function(e,t,o){o=o||e.parentNode.querySelectorAll(t);for(var r=0,n=o.length;r<n;r++)if(o[r]===e)return!0;return!1}),function(){for(var e=0,t=["ms","moz","webkit","o"],r=0;r<t.length&&!o.requestAnimationFrame;++r)Ke=o[t[r]+"RequestAnimationFrame"],Qe=o[t[r]+"CancelAnimationFrame"]||o[t[r]+"CancelRequestAnimationFrame"];Ke||(Ke=function(t){var o=(new Date).getTime(),r=Math.max(0,16-(o-e)),n=setTimeout(function(){t(o+r)},r);return e=o+r,n}),Qe||(Qe=function(e){clearTimeout(e)})}(),"undefined"!=typeof e&&e.exports&&(t=e.exports=le),t.interact=le}}("undefined"==typeof window?void 0:window)},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function SlickGrid(container,data,columns,options){function init(){if($container=(0,_jquery2.default)(container),$container.length<1)throw new Error("SlickGrid requires a valid container, "+container+" does not exist in the DOM.");maxSupportedCssHeight=maxSupportedCssHeight||getMaxSupportedCssHeight(),scrollbarDimensions=scrollbarDimensions||measureScrollbar(),options=_jquery2.default.extend({},defaults,options),validateAndEnforceOptions(),columnDefaults.width=options.defaultColumnWidth,treeColumns=new _slick2.default.TreeColumns(columns),columns=treeColumns.extractColumns(),columnsById={};for(var e=0;e<columns.length;e++){var t=columns[e]=_jquery2.default.extend({},columnDefaults,columns[e]);columnsById[t.id]=e,t.minWidth&&t.width<t.minWidth&&(t.width=t.minWidth),t.maxWidth&&t.width>t.maxWidth&&(t.width=t.maxWidth)}if(editController={commitCurrentEdit:commitCurrentEdit,cancelCurrentEdit:cancelCurrentEdit},$container.empty().css("overflow","hidden").css("outline",0).addClass(uid).addClass("ui-widget"),/relative|absolute|fixed/.test($container.css("position"))||$container.css("position","relative"),$focusSink=(0,_jquery2.default)("<div tabIndex='0' hideFocus style='position:fixed;width:0;height:0;top:0;left:0;outline:0;'></div>").appendTo($container),$paneHeaderL=(0,_jquery2.default)("<div class='slick-pane slick-pane-header slick-pane-left' tabIndex='0' />").appendTo($container),$paneHeaderR=(0,_jquery2.default)("<div class='slick-pane slick-pane-header slick-pane-right' tabIndex='0' />").appendTo($container),$paneTopL=(0,_jquery2.default)("<div class='slick-pane slick-pane-top slick-pane-left' tabIndex='0' />").appendTo($container),$paneTopR=(0,_jquery2.default)("<div class='slick-pane slick-pane-top slick-pane-right' tabIndex='0' />").appendTo($container),$paneBottomL=(0,_jquery2.default)("<div class='slick-pane slick-pane-bottom slick-pane-left' tabIndex='0' />").appendTo($container),$paneBottomR=(0,_jquery2.default)("<div class='slick-pane slick-pane-bottom slick-pane-right' tabIndex='0' />").appendTo($container),$headerScrollerL=(0,_jquery2.default)("<div class='ui-state-default slick-header slick-header-left' />").appendTo($paneHeaderL),$headerScrollerR=(0,_jquery2.default)("<div class='ui-state-default slick-header slick-header-right' />").appendTo($paneHeaderR),$headerScroller=(0,_jquery2.default)().add($headerScrollerL).add($headerScrollerR),treeColumns.hasDepth()){$groupHeadersL=[],$groupHeadersR=[];for(var o=0;o<treeColumns.getDepth()-1;o++)$groupHeadersL[o]=(0,_jquery2.default)("<div class='slick-group-header-columns slick-group-header-columns-left' style='left:-1000px' />").appendTo($headerScrollerL),$groupHeadersR[o]=(0,_jquery2.default)("<div class='slick-group-header-columns slick-group-header-columns-right' style='left:-1000px' />").appendTo($headerScrollerR);$groupHeaders=(0,_jquery2.default)().add($groupHeadersL).add($groupHeadersR)}$headerL=(0,_jquery2.default)("<div class='slick-header-columns slick-header-columns-left' style='left:-1000px' />").appendTo($headerScrollerL),$headerR=(0,_jquery2.default)("<div class='slick-header-columns slick-header-columns-right' style='left:-1000px' />").appendTo($headerScrollerR),$headers=(0,_jquery2.default)().add($headerL).add($headerR),$headerRowScrollerL=(0,_jquery2.default)("<div class='ui-state-default slick-headerrow' />").appendTo($paneTopL),$headerRowScrollerR=(0,_jquery2.default)("<div class='ui-state-default slick-headerrow' />").appendTo($paneTopR),$headerRowScroller=(0,_jquery2.default)().add($headerRowScrollerL).add($headerRowScrollerR),$headerRowSpacerL=(0,_jquery2.default)("<div style='display:block;height:1px;position:absolute;top:0;left:0;'></div>").css("width",getCanvasWidth()+scrollbarDimensions.width+"px").appendTo($headerRowScrollerL),$headerRowSpacerR=(0,_jquery2.default)("<div style='display:block;height:1px;position:absolute;top:0;left:0;'></div>").css("width",getCanvasWidth()+scrollbarDimensions.width+"px").appendTo($headerRowScrollerR),$headerRowL=(0,_jquery2.default)("<div class='slick-headerrow-columns slick-headerrow-columns-left' />").appendTo($headerRowScrollerL),$headerRowR=(0,_jquery2.default)("<div class='slick-headerrow-columns slick-headerrow-columns-right' />").appendTo($headerRowScrollerR),$headerRow=(0,_jquery2.default)().add($headerRowL).add($headerRowR),$topPanelScrollerL=(0,_jquery2.default)("<div class='ui-state-default slick-top-panel-scroller' />").appendTo($paneTopL),$topPanelScrollerR=(0,_jquery2.default)("<div class='ui-state-default slick-top-panel-scroller' />").appendTo($paneTopR),$topPanelScroller=(0,_jquery2.default)().add($topPanelScrollerL).add($topPanelScrollerR),$topPanelL=(0,_jquery2.default)("<div class='slick-top-panel' style='width:10000px' />").appendTo($topPanelScrollerL),$topPanelR=(0,_jquery2.default)("<div class='slick-top-panel' style='width:10000px' />").appendTo($topPanelScrollerR),$topPanel=(0,_jquery2.default)().add($topPanelL).add($topPanelR),options.showTopPanel||$topPanelScroller.hide(),options.showHeaderRow||$headerRowScroller.hide(),$viewportTopL=(0,_jquery2.default)("<div class='slick-viewport slick-viewport-top slick-viewport-left' tabIndex='0' hideFocus />").appendTo($paneTopL),$viewportTopR=(0,_jquery2.default)("<div class='slick-viewport slick-viewport-top slick-viewport-right' tabIndex='0' hideFocus />").appendTo($paneTopR),$viewportBottomL=(0,_jquery2.default)("<div class='slick-viewport slick-viewport-bottom slick-viewport-left' tabIndex='0' hideFocus />").appendTo($paneBottomL),$viewportBottomR=(0,_jquery2.default)("<div class='slick-viewport slick-viewport-bottom slick-viewport-right' tabIndex='0' hideFocus />").appendTo($paneBottomR),$viewport=(0,_jquery2.default)().add($viewportTopL).add($viewportTopR).add($viewportBottomL).add($viewportBottomR),$activeViewportNode=$viewportTopL,$canvasTopL=(0,_jquery2.default)("<div class='grid-canvas grid-canvas-top grid-canvas-left' tabIndex='0' hideFocus />").appendTo($viewportTopL),$canvasTopR=(0,_jquery2.default)("<div class='grid-canvas grid-canvas-top grid-canvas-right' tabIndex='0' hideFocus />").appendTo($viewportTopR),$canvasBottomL=(0,_jquery2.default)("<div class='grid-canvas grid-canvas-bottom grid-canvas-left' tabIndex='0' hideFocus />").appendTo($viewportBottomL),$canvasBottomR=(0,_jquery2.default)("<div class='grid-canvas grid-canvas-bottom grid-canvas-right' tabIndex='0' hideFocus />").appendTo($viewportBottomR),$canvas=(0,_jquery2.default)().add($canvasTopL).add($canvasTopR).add($canvasBottomL).add($canvasBottomR),$activeCanvasNode=$canvasTopL,$footerRowScrollerR=(0,_jquery2.default)("<div class='ui-state-default slick-footerrow' />").appendTo($paneTopR),$footerRowScrollerL=(0,_jquery2.default)("<div class='ui-state-default slick-footerrow' />").appendTo($paneTopL),$footerRowScroller=(0,_jquery2.default)().add($footerRowScrollerL).add($footerRowScrollerR),$footerRowSpacerL=(0,_jquery2.default)("<div style='display:block;height:1px;position:absolute;top:0;left:0;'></div>").css("width",getCanvasWidth()+scrollbarDimensions.width+"px").appendTo($footerRowScrollerL),$footerRowSpacerR=(0,_jquery2.default)("<div style='display:block;height:1px;position:absolute;top:0;left:0;'></div>").css("width",getCanvasWidth()+scrollbarDimensions.width+"px").appendTo($footerRowScrollerR),$footerRowL=(0,_jquery2.default)("<div class='slick-footerrow-columns slick-footerrow-columns-left' />").appendTo($footerRowScrollerL),$footerRowR=(0,_jquery2.default)("<div class='slick-footerrow-columns slick-footerrow-columns-right' />").appendTo($footerRowScrollerR),$footerRow=(0,_jquery2.default)().add($footerRowL).add($footerRowR),options.showFooterRow||$footerRowScroller.hide(),$focusSink2=$focusSink.clone().appendTo($container),options.explicitInitialization||finishInitialization()}function finishInitialization(){initialized||(initialized=!0,getViewportWidth(),getViewportHeight(),measureCellPaddingAndBorder(),disableSelection($headers),options.enableTextSelectionOnCells||$viewport.bind("selectstart.ui",function(e){return(0,_jquery2.default)(e.target).is("input,textarea")}),setFrozenOptions(),setPaneVisibility(),setScroller(),setOverflow(),updateColumnCaches(),createColumnHeaders(),createColumnGroupHeaders(),createColumnFooter(),setupColumnSort(),createCssRules(),resizeCanvas(),bindAncestorScrollEvents(),$container.bind("resize.slickgrid",resizeCanvas),$viewport.on("scroll",handleScroll),_jquery2.default.fn.mousewheel&&(options.frozenColumn>-1||hasFrozenRows)&&$viewport.on("mousewheel",handleMouseWheel),$headerScroller.bind("contextmenu",handleHeaderContextMenu).bind("click",handleHeaderClick).delegate(".slick-header-column","mouseenter",handleHeaderMouseEnter).delegate(".slick-header-column","mouseleave",handleHeaderMouseLeave),$headerRowScroller.bind("scroll",handleHeaderRowScroll),$footerRowScroller.bind("scroll",handleFooterRowScroll),$focusSink.add($focusSink2).bind("keydown",handleKeyDown),$canvas.bind("keydown",handleKeyDown).bind("click",handleClick).bind("dblclick",handleDblClick).bind("contextmenu",handleContextMenu).delegate(".slick-cell","mouseenter",handleMouseEnter).delegate(".slick-cell","mouseleave",handleMouseLeave),(0,_interact2.default)($canvas[0]).allowFrom("div.slick-cell").draggable({onmove:handleDrag,onstart:handleDragStart,onend:handleDragEnd}).styleCursor(!1),navigator.userAgent.toLowerCase().match(/webkit/)&&navigator.userAgent.toLowerCase().match(/macintosh/)&&$canvas.on("mousewheel",handleMouseWheel))}function hasFrozenColumns(){return options.frozenColumn>-1}function registerPlugin(e){plugins.unshift(e),e.init(self)}function unregisterPlugin(e){for(var t=plugins.length;t>=0;t--)if(plugins[t]===e){plugins[t].destroy&&plugins[t].destroy(),plugins.splice(t,1);break}}function setSelectionModel(e){selectionModel&&(selectionModel.onSelectedRangesChanged.unsubscribe(handleSelectedRangesChanged),selectionModel.destroy&&selectionModel.destroy()),selectionModel=e,selectionModel&&(selectionModel.init(self),selectionModel.onSelectedRangesChanged.subscribe(handleSelectedRangesChanged))}function getSelectionModel(){return selectionModel}function getCanvasNode(){return $canvas[0]}function getActiveCanvasNode(e){return setActiveCanvasNode(e),$activeCanvasNode[0]}function getCanvases(){return $canvas}function setActiveCanvasNode(e){e&&($activeCanvasNode=(0,_jquery2.default)(e.target).closest(".grid-canvas"))}function getViewportNode(){return $viewport[0]}function getActiveViewportNode(e){return setActiveViewportNode(e),$activeViewportNode[0]}function setActiveViewportNode(e){e&&($activeViewportNode=(0,_jquery2.default)(e.target).closest(".slick-viewport"))}function measureScrollbar(){var e=(0,_jquery2.default)("<div class='scrollbar-fix' style='position:absolute; top:-10000px; left:-10000px; width:100px; height:100px; overflow:scroll;'></div>").appendTo(document.body),t={width:e.width()-e[0].clientWidth,height:e.height()-e[0].clientHeight};return e.remove(),t}function getHeadersWidth(){headersWidth=headersWidthL=headersWidthR=0;for(var e=0,t=columns.length;e<t;e++){var o=columns[e].width;options.frozenColumn>-1&&e>options.frozenColumn?headersWidthR+=o:headersWidthL+=o}hasFrozenColumns()?(headersWidthL+=1e3,headersWidthR=Math.max(headersWidthR,viewportW)+headersWidthL,headersWidthR+=scrollbarDimensions.width):(headersWidthL+=scrollbarDimensions.width,headersWidthL=Math.max(headersWidthL,viewportW)+1e3),headersWidth=headersWidthL+headersWidthR}function getHeadersWidthL(){return headersWidthL=0,columns.forEach(function(e,t){options.frozenColumn>-1&&t>options.frozenColumn||(headersWidthL+=e.width)}),hasFrozenColumns()?headersWidthL+=1e3:(headersWidthL+=scrollbarDimensions.width,headersWidthL=Math.max(headersWidthL,viewportW)+1e3),headersWidthL}function getHeadersWidthR(){return headersWidthR=0,columns.forEach(function(e,t){options.frozenColumn>-1&&t>options.frozenColumn&&(headersWidthR+=e.width)}),hasFrozenColumns()&&(headersWidthR=Math.max(headersWidthR,viewportW)+getHeadersWidthL(),headersWidthR+=scrollbarDimensions.width),headersWidthR}function getCanvasWidth(){var e=viewportHasVScroll?viewportW-scrollbarDimensions.width:viewportW,t=columns.length;for(canvasWidthL=canvasWidthR=0;t--;)hasFrozenColumns()&&t>options.frozenColumn?canvasWidthR+=columns[t].width:canvasWidthL+=columns[t].width;var o=canvasWidthL+canvasWidthR;return options.fullWidthRows?Math.max(o,e):o}function updateCanvasWidth(e){var t,o=canvasWidth,r=canvasWidthL,n=canvasWidthR;canvasWidth=getCanvasWidth(),t=canvasWidth!==o||canvasWidthL!==r||canvasWidthR!==n,(t||hasFrozenColumns()||hasFrozenRows)&&($canvasTopL.width(canvasWidthL),getHeadersWidth(),$headerL.width(headersWidthL),$headerR.width(headersWidthR),hasFrozenColumns()?($canvasTopR.width(canvasWidthR),$paneHeaderL.width(canvasWidthL),$paneHeaderR.css("left",canvasWidthL),$paneHeaderR.css("width",viewportW-canvasWidthL),$paneTopL.width(canvasWidthL),$paneTopR.css("left",canvasWidthL),$paneTopR.css("width",viewportW-canvasWidthL),$headerRowScrollerL.width(canvasWidthL),$headerRowScrollerR.width(viewportW-canvasWidthL),$headerRowL.width(canvasWidthL),$headerRowR.width(canvasWidthR),$footerRowScrollerL.width(canvasWidthL),$footerRowScrollerR.width(viewportW-canvasWidthL),$footerRowL.width(canvasWidthL),$footerRowR.width(canvasWidthR),$viewportTopL.width(canvasWidthL),$viewportTopR.width(viewportW-canvasWidthL),hasFrozenRows&&($paneBottomL.width(canvasWidthL),$paneBottomR.css("left",canvasWidthL),$viewportBottomL.width(canvasWidthL),$viewportBottomR.width(viewportW-canvasWidthL),$canvasBottomL.width(canvasWidthL),$canvasBottomR.width(canvasWidthR))):($paneHeaderL.width("100%"),$paneTopL.width("100%"),$headerRowScrollerL.width("100%"),$headerRowL.width(canvasWidth),$footerRowScrollerL.width("100%"),$footerRowL.width(canvasWidth),$viewportTopL.width("100%"),hasFrozenRows&&($viewportBottomL.width("100%"),$canvasBottomL.width(canvasWidthL))),viewportHasHScroll=canvasWidth>viewportW-scrollbarDimensions.width),$headerRowSpacerL.width(canvasWidth+(viewportHasVScroll?scrollbarDimensions.width:0)),$headerRowSpacerR.width(canvasWidth+(viewportHasVScroll?scrollbarDimensions.width:0)),$footerRowSpacerL.width(canvasWidth+(viewportHasVScroll?scrollbarDimensions.width:0)),$footerRowSpacerR.width(canvasWidth+(viewportHasVScroll?scrollbarDimensions.width:0)),(t||e)&&applyColumnWidths()}function disableSelection(e){e&&e.jquery&&e.attr("unselectable","on").css("MozUserSelect","none").bind("selectstart.ui",function(){return!1})}function getMaxSupportedCssHeight(){for(var e=1e6,t=navigator.userAgent.toLowerCase().match(/firefox/)?6e6:1e9,o=(0,_jquery2.default)("<div style='display:none' />").appendTo(document.body);;){var r=2*e;if(o.css("height",r),r>t||o.height()!==r)break;e=r}return o.remove(),e}function bindAncestorScrollEvents(){for(var e=hasFrozenRows&&!options.frozenBottom?$canvasBottomL[0]:$canvasTopL[0];(e=e.parentNode)!=document.body&&null!=e;)if(e==$viewportTopL[0]||e.scrollWidth!=e.clientWidth||e.scrollHeight!=e.clientHeight){var t=(0,_jquery2.default)(e);$boundAncestors=$boundAncestors?$boundAncestors.add(t):t,t.bind("scroll."+uid,handleActiveCellPositionChange)}}function unbindAncestorScrollEvents(){$boundAncestors&&($boundAncestors.unbind("scroll."+uid),$boundAncestors=null)}function updateColumnHeader(e,t,o){if(initialized){var r=getColumnIndex(e);if(null!=r){var n=columns[r],i=$headers.children().eq(r);i&&(void 0!==t&&(columns[r].name=t),void 0!==o&&(columns[r].toolTip=o),trigger(self.onBeforeHeaderCellDestroy,{node:i[0],column:n}),i.attr("title",o||"").children().eq(0).html(t),trigger(self.onHeaderCellRendered,{node:i[0],column:n}))}}}function getHeaderRow(){return hasFrozenColumns()?$headerRow:$headerRow[0]}function getHeaderRowColumn(e){var t,o=getColumnIndex(e);hasFrozenColumns()?o<=options.frozenColumn?t=$headerRowL:(t=$headerRowR,o-=options.frozenColumn+1):t=$headerRowL;var r=t.children().eq(o);return r&&r[0]}function getFooterRow(){return hasFrozenColumns()?$footerRow:$footerRow[0]}function getFooterRowColumn(e){var t,o=getColumnIndex(e);hasFrozenColumns()?o<=options.frozenColumn?t=$footerRowL:(t=$footerRowR,o-=options.frozenColumn+1):t=$footerRowL;var r=t.children().eq(o);return r&&r[0]}function createColumnFooter(){$footerRow.find(".slick-footerrow-column").each(function(){var e=(0,_jquery2.default)(this).data("column");e&&trigger(self.onBeforeFooterRowCellDestroy,{node:this,column:e})}),$footerRowL.empty(),$footerRowR.empty();for(var e=0;e<columns.length;e++){var t=columns[e],o=(0,_jquery2.default)("<div class='ui-state-default slick-footerrow-column l"+e+" r"+e+"'></div>").data("column",t).addClass(hasFrozenColumns()&&e<=options.frozenColumn?"frozen":"").appendTo(hasFrozenColumns()&&e>options.frozenColumn?$footerRowR:$footerRowL);trigger(self.onFooterRowCellRendered,{node:o[0],column:t})}}function createColumnGroupHeaders(){var e=0,t=!1;if(treeColumns.hasDepth()){for(var o=0;o<$groupHeadersL.length;o++){$groupHeadersL[o].empty(),$groupHeadersR[o].empty();var r=treeColumns.getColumnsInDepth(o);for(var n in r){var i=r[n];e+=i.extractColumns().length,hasFrozenColumns()&&0==o&&e-1===options.frozenColumn&&(t=!0),(0,_jquery2.default)("<div class='ui-state-default slick-group-header-column' />").html("<span class='slick-column-name'>"+i.name+"</span>").attr("id",""+uid+i.id).attr("title",i.toolTip||"").data("column",i).addClass(i.headerCssClass||"").addClass(hasFrozenColumns()&&e-1<=options.frozenColumn?"frozen":"").appendTo(hasFrozenColumns()&&e-1>options.frozenColumn?$groupHeadersR[o]:$groupHeadersL[o])}if(hasFrozenColumns()&&0==o&&!t){$groupHeadersL[o].empty(),$groupHeadersR[o].empty(),alert("All columns of group should to be grouped!");break}}applyColumnGroupHeaderWidths()}}function createColumnHeaders(){function e(){(0,_jquery2.default)(this).addClass("ui-state-hover")}function t(){(0,_jquery2.default)(this).removeClass("ui-state-hover")}$headers.find(".slick-header-column").each(function(){var e=(0,_jquery2.default)(this).data("column");e&&trigger(self.onBeforeHeaderCellDestroy,{node:this,column:e})}),$headerL.empty(),$headerR.empty(),getHeadersWidth(),$headerL.width(headersWidthL),$headerR.width(headersWidthR),$headerRow.find(".slick-headerrow-column").each(function(){var e=(0,_jquery2.default)(this).data("column");e&&trigger(self.onBeforeHeaderRowCellDestroy,{node:this,column:e})}),$headerRowL.empty(),$headerRowR.empty();for(var o=0;o<columns.length;o++){var r=columns[o],n=hasFrozenColumns()?o<=options.frozenColumn?$headerL:$headerR:$headerL,i=hasFrozenColumns()?o<=options.frozenColumn?$headerRowL:$headerRowR:$headerRowL,s=(0,_jquery2.default)("<div class='ui-state-default slick-header-column' />").html("<span class='slick-column-name'>"+r.name+"</span>").width(r.width-headerColumnWidthDiff).attr("id",""+uid+r.id).attr("title",r.toolTip||"").data("column",r).addClass(r.headerCssClass||"").addClass(hasFrozenColumns()&&o<=options.frozenColumn?"frozen":"").appendTo(n);if((options.enableColumnReorder||r.sortable)&&s.on("mouseenter",e).on("mouseleave",t),r.sortable&&(s.addClass("slick-header-sortable"),s.append("<span class='slick-sort-indicator' />")),trigger(self.onHeaderCellRendered,{node:s[0],column:r}),options.showHeaderRow){var a=(0,_jquery2.default)("<div class='ui-state-default slick-headerrow-column l"+o+" r"+o+"'></div>").data("column",r).appendTo(i);trigger(self.onHeaderRowCellRendered,{node:a[0],column:r})}}setSortColumns(sortColumns),setupColumnResize(),options.enableColumnReorder&&setupColumnReorder()}function setupColumnSort(){$headers.click(function(e){if(e.metaKey=e.metaKey||e.ctrlKey,!(0,_jquery2.default)(e.target).hasClass("slick-resizable-handle")){var t=(0,_jquery2.default)(e.target).closest(".slick-header-column");if(t.length){var o=t.data("column");if(o.sortable){if(!getEditorLock().commitCurrentEdit())return;for(var r=null,n=0;n<sortColumns.length;n++)if(sortColumns[n].columnId==o.id){r=sortColumns[n],r.sortAsc=!r.sortAsc;break}e.metaKey&&options.multiColumnSort?r&&sortColumns.splice(n,1):((e.shiftKey||e.metaKey)&&options.multiColumnSort||(sortColumns=[]),r?0==sortColumns.length&&sortColumns.push(r):(r={columnId:o.id,sortAsc:o.defaultSortAsc},sortColumns.push(r))),setSortColumns(sortColumns),options.multiColumnSort?trigger(self.onSort,{multiColumnSort:!0,sortCols:_jquery2.default.map(sortColumns,function(e){return{sortCol:columns[getColumnIndex(e.columnId)],sortAsc:e.sortAsc}})},e):trigger(self.onSort,{multiColumnSort:!1,sortCol:o,sortAsc:r.sortAsc},e)}}}})}function currentPositionInHeader(e){var t=0;return $headers.find(".slick-header-column").each(function(o){if(this.id==e)return t=o,!1}),t}function limitPositionInGroup(e){var t,o=0,r=0;return treeColumns.getColumnsInDepth($groupHeadersL.length-1).some(function(n){return o=r,r+=n.columns.length,n.columns.some(function(o){return o.id===e&&(t=n),t}),t}),r--,{start:o,end:r,group:t}}function remove(e,t){var o=e.lastIndexOf(t);o>-1&&(e.splice(o,1),remove(e,t))}function columnPositionValidInGroup(e){var t=currentPositionInHeader(e[0].id),o=limitPositionInGroup(e.data("column").id),r=o.start<=t&&t<=o.end;return{limit:o,valid:r,message:r?"":'Column "'.concat(e.text(),'" can be reordered only within the "',o.group.name,'" group!')}}function setupColumnReorder(){var e=0,t=0,o=document.createElement("div");o.className="interact-placeholder";var r=options.frozenColumn!==-1?".slick-header-right .slick-header-column":".slick-header-column";(0,_interact2.default)(r,{context:$container[0]}).ignoreFrom(".slick-resizable-handle").draggable({inertia:!0,restrict:{restriction:"parent",endOnly:!0,elementRect:{top:0,left:0,bottom:0,right:0}},autoScroll:!0,axis:"x",onstart:function(r){e=0,t=r.target.offsetWidth,$headers.find(".slick-header-column").each(function(e){(0,_jquery2.default)(this).data("index",e)}),o.style.height=r.target.offsetHeight+"px",o.style.width=t+"px",(0,_jquery2.default)(r.target).after(o).css({position:"absolute",zIndex:1e3,marginLeft:(0,_jquery2.default)(r.target).position().left-1e3})},onmove:function(t){e+=t.dx,t.target.style.transform="translate3d("+e+"px, -3px, 100px)",t.target.style.zIndex=1e3},onend:function(r){if(e=0,t=0,treeColumns.hasDepth()){var n=columnPositionValidInGroup((0,_jquery2.default)(r.target)),i=n.limit,s=!n.valid;s&&alert(n.message)}if(o.parentNode.removeChild(o),s)return r.target.style.transform="none",void setColumns(getColumns());(0,_jquery2.default)(r.target).css({position:"relative",zIndex:"",marginLeft:0,transform:"none"});var a=[];$headers.find(".slick-header-column").each(function(e){a.push(columns[(0,_jquery2.default)(this).data("index")]),(0,_jquery2.default)(this).removeData("index")}),setColumns(a),trigger(self.onColumnsReordered,{impactedColumns:getImpactedColumns(i),grid:self}),setupColumnResize()}}).dropzone({accept:r,ondragenter:function(e){e.target.classList.add("interact-drop-active"),e.relatedTarget.classList.add("interact-can-drop")},ondragleave:function(e){e.target.classList.remove("interact-drop-active"),e.relatedTarget.classList.remove("interact-can-drop")},ondrop:function(t){t.target.classList.remove("interact-drop-active"),t.relatedTarget.classList.remove("interact-can-drop"),(0,_jquery2.default)(t.target)[e>0?"after":"before"](t.relatedTarget)}}).styleCursor(!1)}function getImpactedColumns(e){var t=[];if(void 0!=e)for(var o=e.start;o<=e.end;o++)t.push(columns[o]);else t=columns;return t}function setupColumnResize(){var e,t,o,r;t=$headers.children(),t.find(".slick-resizable-handle").remove(),t.each(function(e,t){columns[e].resizable&&(void 0===o&&(o=e),r=e)}),void 0!==o&&t.each(function(t,n){if(!(t<o||options.forceFitColumns&&t>=r)){e=(0,_jquery2.default)(n);var i=(0,_jquery2.default)("<div class='slick-resizable-handle' />");if(i.appendTo(n),!e.data("resizable")){var s=columns[t];s.resizable&&(e.data("resizable",!0),(0,_interact2.default)(n).resizable({preserveAspectRatio:!1,edges:{left:!0,right:!0,bottom:!1,top:!1}}).on("resizestart",function(e){return!!getEditorLock().commitCurrentEdit()&&(s.previousWidth=e.rect.width,void e.target.classList.add("slick-header-column-active"))}).on("resizemove",function(e){var t=e.dx,o=s.width+=t;s.minWidth>0&&s.minWidth>o?o=s.minWidth:s.maxWidth>0&&s.maxWidth<o&&(o=s.maxWidth),s.width=o,options.forceFitColumns&&autosizeColumns(),applyColumnHeaderWidths(),options.syncColumnCellResize&&applyColumnWidths()}).on("resizeend",function(e){e.target.classList.remove("slick-header-column-active"),treeColumns.hasDepth()&&createColumnGroupHeaders(),invalidateAllRows(),updateCanvasWidth(!0),render(),trigger(self.onColumnsResized,{grid:self})}))}}})}function getVBoxDelta(e){var t=["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"],o=0;return _jquery2.default.each(t,function(t,r){o+=parseFloat(e.css(r))||0}),o}function setFrozenOptions(){if(options.frozenColumn=Number(options.frozenColumn),options.frozenRow=options.frozenRow>=0&&options.frozenRow<numVisibleRows?parseInt(options.frozenRow):-1,options.frozenRow>-1){hasFrozenRows=!0,frozenRowsHeight=options.frozenRow*options.rowHeight;var e=getDataLength()||this.data.length;actualFrozenRow=options.frozenBottom?e-options.frozenRow:options.frozenRow}else hasFrozenRows=!1}function setPaneVisibility(){hasFrozenColumns()?($paneHeaderR.show(),$paneTopR.show(),hasFrozenRows?($paneBottomL.show(),$paneBottomR.show()):($paneBottomR.hide(),$paneBottomL.hide())):($paneHeaderR.hide(),$paneTopR.hide(),$paneBottomR.hide(),hasFrozenRows?$paneBottomL.show():($paneBottomR.hide(),$paneBottomL.hide()))}function setOverflow(){$viewportTopL.css({"overflow-x":hasFrozenColumns()?hasFrozenRows?"hidden":"scroll":hasFrozenRows?"hidden":"auto","overflow-y":hasFrozenColumns()?"hidden":hasFrozenRows?"scroll":"auto"}),$viewportTopR.css({"overflow-x":hasFrozenColumns()?hasFrozenRows?"hidden":"scroll":hasFrozenRows?"hidden":"auto","overflow-y":hasFrozenColumns()?hasFrozenRows?"scroll":"auto":hasFrozenRows?"scroll":"auto"}),$viewportBottomL.css({"overflow-x":hasFrozenColumns()&&hasFrozenRows?"scroll":"auto","overflow-y":hasFrozenColumns()?"hidden":hasFrozenRows?"scroll":"auto"}),$viewportBottomR.css({"overflow-x":hasFrozenColumns()&&hasFrozenRows?"scroll":"auto","overflow-y":(hasFrozenColumns(),"auto")})}function setScroller(){hasFrozenColumns()?($headerScrollContainer=$headerScrollerR,$headerRowScrollContainer=$headerRowScrollerR,$footerRowScrollContainer=$footerRowScrollerR,hasFrozenRows?options.frozenBottom?($viewportScrollContainerX=$viewportBottomR,$viewportScrollContainerY=$viewportTopR):$viewportScrollContainerX=$viewportScrollContainerY=$viewportBottomR:$viewportScrollContainerX=$viewportScrollContainerY=$viewportTopR):($headerScrollContainer=$headerScrollerL,
$headerRowScrollContainer=$headerRowScrollerL,$footerRowScrollContainer=$footerRowScrollerL,hasFrozenRows?options.frozenBottom?($viewportScrollContainerX=$viewportBottomL,$viewportScrollContainerY=$viewportTopL):$viewportScrollContainerX=$viewportScrollContainerY=$viewportBottomL:$viewportScrollContainerX=$viewportScrollContainerY=$viewportTopL)}function measureCellPaddingAndBorder(){var e,t=["borderLeftWidth","borderRightWidth","paddingLeft","paddingRight"],o=["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"];e=(0,_jquery2.default)("<div class='ui-state-default slick-header-column' style='visibility:hidden'>-</div>").appendTo($headers),headerColumnWidthDiff=headerColumnHeightDiff=0,"border-box"!=e.css("box-sizing")&&"border-box"!=e.css("-moz-box-sizing")&&"border-box"!=e.css("-webkit-box-sizing")&&(_jquery2.default.each(t,function(t,o){headerColumnWidthDiff+=parseFloat(e.css(o))||0}),_jquery2.default.each(o,function(t,o){headerColumnHeightDiff+=parseFloat(e.css(o))||0})),e.remove();var r=(0,_jquery2.default)("<div class='slick-row' />").appendTo($canvas);e=(0,_jquery2.default)("<div class='slick-cell' id='' style='visibility:hidden'>-</div>").appendTo(r),cellWidthDiff=cellHeightDiff=0,"border-box"!=e.css("box-sizing")&&"border-box"!=e.css("-moz-box-sizing")&&"border-box"!=e.css("-webkit-box-sizing")&&(_jquery2.default.each(t,function(t,o){cellWidthDiff+=parseFloat(e.css(o))||0}),_jquery2.default.each(o,function(t,o){cellHeightDiff+=parseFloat(e.css(o))||0})),r.remove(),absoluteColumnMinWidth=Math.max(headerColumnWidthDiff,cellWidthDiff)}function createCssRules(){$style=(0,_jquery2.default)("<style type='text/css' rel='stylesheet' />").appendTo((0,_jquery2.default)("head"));for(var e=options.rowHeight-cellHeightDiff,t=["."+uid+" .slick-group-header-column { left: 1000px; }","."+uid+" .slick-header-column { left: 1000px; }","."+uid+" .slick-top-panel { height:"+options.topPanelHeight+"px; }","."+uid+" .slick-headerrow-columns { height:"+options.headerRowHeight+"px; }","."+uid+" .slick-cell { height:"+e+"px; }","."+uid+" .slick-row { height:"+options.rowHeight+"px; }","."+uid+" .slick-footerrow-columns { height:"+options.footerRowHeight+"px; }"],o=0;o<columns.length;o++)t.push("."+uid+" .l"+o+" { }"),t.push("."+uid+" .r"+o+" { }");$style[0].styleSheet?$style[0].styleSheet.cssText=t.join(" "):$style[0].appendChild(document.createTextNode(t.join(" ")))}function getColumnCssRules(e){if(!stylesheet){for(var t=document.styleSheets,o=0;o<t.length;o++)if((t[o].ownerNode||t[o].owningElement)==$style[0]){stylesheet=t[o];break}if(!stylesheet)throw new Error("Cannot find stylesheet.");columnCssRulesL=[],columnCssRulesR=[];for(var r,n,i=stylesheet.cssRules||stylesheet.rules,o=0;o<i.length;o++){var s=i[o].selectorText;(r=/\.l\d+/.exec(s))?(n=parseInt(r[0].substr(2,r[0].length-2),10),columnCssRulesL[n]=i[o]):(r=/\.r\d+/.exec(s))&&(n=parseInt(r[0].substr(2,r[0].length-2),10),columnCssRulesR[n]=i[o])}}return{left:columnCssRulesL[e],right:columnCssRulesR[e]}}function removeCssRules(){$style.remove(),stylesheet=null}function destroy(){getEditorLock().cancelCurrentEdit(),trigger(self.onBeforeDestroy,{});for(var e=plugins.length;e--;)unregisterPlugin(plugins[e]);unbindAncestorScrollEvents(),$container.unbind(".slickgrid"),removeCssRules(),$container.empty().removeClass(uid)}function trigger(e,t,o){return o=o||new _slick2.default.EventData,t=t||{},t.grid=self,e.notify(t,o,self)}function getEditorLock(){return options.editorLock}function getEditController(){return editController}function getColumnIndex(e){return columnsById[e]}function autosizeColumns(){var e,t,o,r=[],n=0,i=0,s=viewportHasVScroll?viewportW-scrollbarDimensions.width:viewportW;for(e=0;e<columns.length;e++)t=columns[e],r.push(t.width),i+=t.width,t.resizable&&(n+=t.width-Math.max(t.minWidth,absoluteColumnMinWidth));for(o=i;i>s&&n;){var a=(i-s)/n;for(e=0;e<columns.length&&i>s;e++){t=columns[e];var l=r[e];if(!(!t.resizable||l<=t.minWidth||l<=absoluteColumnMinWidth)){var d=Math.max(t.minWidth,absoluteColumnMinWidth),c=Math.floor(a*(l-d))||1;c=Math.min(c,l-d),i-=c,n-=c,r[e]-=c}}if(o<=i)break;o=i}for(o=i;i<s;){var u=s/i;for(e=0;e<columns.length&&i<s;e++){t=columns[e];var h,p=r[e];h=!t.resizable||t.maxWidth<=p?0:Math.min(Math.floor(u*p)-p,t.maxWidth-p||1e6)||1,i+=h,r[e]+=h}if(o>=i)break;o=i}var f=!1;for(e=0;e<columns.length;e++)columns[e].rerenderOnResize&&columns[e].width!=r[e]&&(f=!0),columns[e].width=r[e];applyColumnHeaderWidths(),applyColumnGroupHeaderWidths(),updateCanvasWidth(!0),f&&(invalidateAllRows(),render())}function applyColumnGroupHeaderWidths(){if(treeColumns.hasDepth())for(var e=$groupHeadersL.length-1;e>=0;e--){treeColumns.getColumnsInDepth(e);(0,_jquery2.default)().add($groupHeadersL[e]).add($groupHeadersR[e]).each(function(e){var t=(0,_jquery2.default)(this),o=0;t.width(0==e?getHeadersWidthL():getHeadersWidthR()),t.children().each(function(){var e=(0,_jquery2.default)(this),r=(0,_jquery2.default)(this).data("column");r.width=0,r.columns.forEach(function(){var e=t.next().children(":eq("+o++ +")");r.width+=e.outerWidth()}),e.width(r.width-headerColumnWidthDiff)})})}}function applyColumnHeaderWidths(){if(initialized){for(var e,t=0,o=$headers.children(),r=o.length;t<r;t++)e=(0,_jquery2.default)(o[t]),e.width()!==columns[t].width-headerColumnWidthDiff&&e.width(columns[t].width-headerColumnWidthDiff);updateColumnCaches()}}function applyColumnWidths(){for(var e,t,o=0,r=0;r<columns.length;r++)e=columns[r].width,t=getColumnCssRules(r),t.left.style.left=o+"px",t.right.style.right=(options.frozenColumn!=-1&&r>options.frozenColumn?canvasWidthR:canvasWidthL)-o-e+"px",options.frozenColumn==r?o=0:o+=columns[r].width}function setSortColumn(e,t){setSortColumns([{columnId:e,sortAsc:t}])}function setSortColumns(e){sortColumns=e;var t=$headers.children();t.removeClass("slick-header-column-sorted").find(".slick-sort-indicator").removeClass("slick-sort-indicator-asc slick-sort-indicator-desc"),_jquery2.default.each(sortColumns,function(e,o){null==o.sortAsc&&(o.sortAsc=!0);var r=getColumnIndex(o.columnId);null!=r&&t.eq(r).addClass("slick-header-column-sorted").find(".slick-sort-indicator").addClass(o.sortAsc?"slick-sort-indicator-asc":"slick-sort-indicator-desc")})}function getSortColumns(){return sortColumns}function handleSelectedRangesChanged(e,t){selectedRows=[];for(var o={},r=0;r<t.length;r++)for(var n=t[r].fromRow;n<=t[r].toRow;n++){o[n]||(selectedRows.push(n),o[n]={});for(var i=t[r].fromCell;i<=t[r].toCell;i++)canCellBeSelected(n,i)&&(o[n][columns[i].id]=options.selectedCellCssClass)}setCellCssStyles(options.selectedCellCssClass,o),trigger(self.onSelectedRowsChanged,{rows:getSelectedRows()},e)}function getColumns(){return columns}function updateColumnCaches(){columnPosLeft=[],columnPosRight=[];for(var e=0,t=0,o=columns.length;t<o;t++)columnPosLeft[t]=e,columnPosRight[t]=e+columns[t].width,options.frozenColumn==t?e=0:e+=columns[t].width}function setColumns(e){var t=new _slick2.default.TreeColumns(e);t.hasDepth()?(treeColumns=t,columns=treeColumns.extractColumns()):columns=e,columnsById={};for(var o=0;o<columns.length;o++){var r=columns[o]=_jquery2.default.extend({},columnDefaults,columns[o]);columnsById[r.id]=o,r.minWidth&&r.width<r.minWidth&&(r.width=r.minWidth),r.maxWidth&&r.width>r.maxWidth&&(r.width=r.maxWidth)}updateColumnCaches(),initialized&&(setPaneVisibility(),setOverflow(),invalidateAllRows(),createColumnHeaders(),createColumnGroupHeaders(),createColumnFooter(),removeCssRules(),createCssRules(),resizeCanvas(),updateCanvasWidth(),applyColumnWidths(),handleScroll())}function getOptions(){return options}function setOptions(e){getEditorLock().commitCurrentEdit()&&(makeActiveCellNormal(),options.enableAddRow!==e.enableAddRow&&invalidateRow(getDataLength()),options=_jquery2.default.extend(options,e),validateAndEnforceOptions(),setFrozenOptions(),setScroller(),zombieRowNodeFromLastMouseWheelEvent=null,treeColumns.hasDepth()&&setColumns(treeColumns.extractColumns()),render())}function validateAndEnforceOptions(){options.autoHeight&&(options.leaveSpaceForNewRows=!1)}function setData(e,t){data=e,invalidateAllRows(),updateRowCount(),t&&scrollTo(0)}function getData(){return data}function getDataLength(){return data.getLength?data.getLength():data.length}function getDataLengthIncludingAddNew(){return getDataLength()+(options.enableAddRow?1:0)}function getDataItem(e){return data.getItem?data.getItem(e):data[e]}function getTopPanel(){return $topPanel[0]}function setTopPanelVisibility(e){options.showTopPanel!=e&&(options.showTopPanel=e,e?$topPanelScroller.slideDown("fast",resizeCanvas):$topPanelScroller.slideUp("fast",resizeCanvas))}function setHeaderRowVisibility(e){options.showHeaderRow!=e&&(options.showHeaderRow=e,e?$headerRowScroller.slideDown("fast",resizeCanvas):$headerRowScroller.slideUp("fast",resizeCanvas))}function setFooterRowVisibility(e){options.showFooterRow!=e&&(options.showFooterRow=e,e?$footerRowScroller.fadeIn("fast",resizeCanvas):$footerRowScroller.slideDown("fast",resizeCanvas))}function getContainerNode(){return $container.get(0)}function getRowTop(e){return options.rowHeight*e-offset}function getRowFromPosition(e){return Math.floor((e+offset)/options.rowHeight)}function scrollTo(e){e=Math.max(e,0),e=Math.min(e,th-$viewportScrollContainerY.height()+(viewportHasHScroll||hasFrozenColumns()?scrollbarDimensions.height:0));var t=offset;page=Math.min(n-1,Math.floor(e/ph)),offset=Math.round(page*cj);var o=e-offset;if(offset!=t){var r=getVisibleRange(o);cleanupRows(r),updateRowPositions()}prevScrollTop!=o&&(vScrollDir=prevScrollTop+t<o+offset?1:-1,lastRenderedScrollTop=scrollTop=prevScrollTop=o,hasFrozenColumns()&&($viewportTopL[0].scrollTop=o),hasFrozenRows&&($viewportBottomL[0].scrollTop=$viewportBottomR[0].scrollTop=o),$viewportScrollContainerY[0].scrollTop=o,trigger(self.onViewportChanged,{}))}function defaultFormatter(e,t,o,r,n){return null==o?"":(o+"").replace(/&/g,"&").replace(/</g,"<").replace(/>/g,">")}function getFormatter(e,t){var o=data.getItemMetadata&&data.getItemMetadata(e),r=o&&o.columns&&(o.columns[t.id]||o.columns[getColumnIndex(t.id)]);return r&&r.formatter||o&&o.formatter||t.formatter||options.formatterFactory&&options.formatterFactory.getFormatter(t)||options.defaultFormatter}function callFormatter(e,t,o,r,n){var i,s=data.getItemMetadata&&data.getItemMetadata(e);if(s=s&&s.columns){var a=s[r.id]||s[t];i=getFormatter(e,r)(e,t,o,r,n,a)}else i=getFormatter(e,r)(e,t,o,r,n);return i}function getEditor(e,t){var o=columns[t],r=data.getItemMetadata&&data.getItemMetadata(e),n=r&&r.columns;return n&&n[o.id]&&void 0!==n[o.id].editor?n[o.id].editor:n&&n[t]&&void 0!==n[t].editor?n[t].editor:o.editor||options.editorFactory&&options.editorFactory.getEditor(o)}function getDataItemValueForColumn(e,t){return options.dataItemColumnValueExtractor?options.dataItemColumnValueExtractor(e,t):e[t.field]}function appendRowHtml(e,t,o,r,n){var i=getDataItem(o),s=o<n&&!i,a="slick-row"+(hasFrozenRows&&o<options.frozenRow?" frozen":"")+(s?" loading":"")+(o===activeRow?" active":"")+(o%2==1?" odd":" even");i||(a+=" "+options.addNewRowCssClass);var l=data.getItemMetadata&&data.getItemMetadata(o);l&&l.cssClasses&&(a+=" "+l.cssClasses);var d=getFrozenRowOffset(o),c="<div class='ui-widget-content "+a+"' style='top:"+(getRowTop(o)-d)+"px'>";e.push(c),hasFrozenColumns()&&t.push(c);for(var u,h,p=0,f=columns.length;p<f;p++){if(h=columns[p],u=1,l&&l.columns){var v=l.columns[h.id]||l.columns[p];u=v&&v.colspan||1,"*"===u&&(u=f-p)}if(columnPosRight[Math.min(f-1,p+u-1)]>r.leftPx){if(columnPosLeft[p]>r.rightPx)break;hasFrozenColumns()&&p>options.frozenColumn?appendCellHtml(t,o,p,u,i):appendCellHtml(e,o,p,u,i)}else hasFrozenColumns()&&p<=options.frozenColumn&&appendCellHtml(e,o,p,u,i);u>1&&(p+=u-1)}e.push("</div>"),hasFrozenColumns()&&t.push("</div>")}function appendCellHtml(e,t,o,r,n){var i=columns[o],s="slick-cell l"+o+" r"+Math.min(columns.length-1,o+r-1)+(i.cssClass?" "+i.cssClass:"");hasFrozenColumns()&&o<=options.frozenColumn&&(s+=" frozen"),t===activeRow&&o===activeCell&&(s+=" active");for(var a in cellCssClasses)cellCssClasses[a][t]&&cellCssClasses[a][t][i.id]&&(s+=" "+cellCssClasses[a][t][i.id]);if(e.push("<div class='"+s+"'>"),n){var l=getDataItemValueForColumn(n,i);e.push(callFormatter(t,o,l,i,n))}e.push("</div>"),rowsCache[t].cellRenderQueue.push(o),rowsCache[t].cellColSpans[o]=r}function cleanupRows(e){for(var t in rowsCache){var o=!0;hasFrozenRows&&(options.frozenBottom&&t>=actualFrozenRow||!options.frozenBottom&&t<=actualFrozenRow)&&(o=!1),(t=parseInt(t,10))!==activeRow&&(t<e.top||t>e.bottom)&&o&&removeRowFromCache(t)}}function invalidate(){updateRowCount(),invalidateAllRows(),render()}function invalidateAllRows(){currentEditor&&makeActiveCellNormal();for(var e in rowsCache)removeRowFromCache(e)}function removeRowFromCache(e){var t=rowsCache[e];t&&(rowNodeFromLastMouseWheelEvent==t.rowNode[0]||hasFrozenColumns()&&rowNodeFromLastMouseWheelEvent==t.rowNode[1]?(t.rowNode.hide(),zombieRowNodeFromLastMouseWheelEvent=t.rowNode):t.rowNode.each(function(){this.parentElement.removeChild(this)}),delete rowsCache[e],delete postProcessedRows[e],renderedRows--,counter_rows_removed++)}function invalidateRows(e){var t,o;if(e&&e.length)for(vScrollDir=0,t=0,o=e.length;t<o;t++)currentEditor&&activeRow===e[t]&&makeActiveCellNormal(),rowsCache[e[t]]&&removeRowFromCache(e[t])}function invalidateRow(e){invalidateRows([e])}function updateCell(e,t){var o=getCellNode(e,t);if(o){var r=columns[t],n=getDataItem(e);currentEditor&&activeRow===e&&activeCell===t?currentEditor.loadValue(n):(o.innerHTML=n?callFormatter(e,t,getDataItemValueForColumn(n,r),r,n):"",invalidatePostProcessingResults(e))}}function updateRow(e){var t=rowsCache[e];if(t){ensureCellNodesInRowsCache(e);var o=getDataItem(e);for(var r in t.cellNodesByColumnIdx)if(t.cellNodesByColumnIdx.hasOwnProperty(r)){r|=0;var n=columns[r],i=t.cellNodesByColumnIdx[r][0];e===activeRow&&r===activeCell&&currentEditor?currentEditor.loadValue(o):o?i.innerHTML=callFormatter(e,r,getDataItemValueForColumn(o,n),n,o):i.innerHTML=""}invalidatePostProcessingResults(e)}}function getViewportHeight(){options.autoHeight?viewportH=options.rowHeight*getDataLengthIncludingAddNew()+(options.frozenColumn==-1?$headers.outerHeight():0):(topPanelH=options.showTopPanel?options.topPanelHeight+getVBoxDelta($topPanelScroller):0,headerRowH=options.showHeaderRow?options.headerRowHeight+getVBoxDelta($headerRowScroller):0,footerRowH=options.showFooterRow?options.footerRowHeight+getVBoxDelta($footerRowScroller):0,viewportH=parseFloat(_jquery2.default.css($container[0],"height",!0))-parseFloat(_jquery2.default.css($container[0],"paddingTop",!0))-parseFloat(_jquery2.default.css($container[0],"paddingBottom",!0))-parseFloat(_jquery2.default.css($headerScroller[0],"height"))-getVBoxDelta($headerScroller)-topPanelH-headerRowH-footerRowH),numVisibleRows=Math.ceil(viewportH/options.rowHeight)}function getViewportWidth(){viewportW=parseFloat(_jquery2.default.css($container[0],"width",!0))}function resizeCanvas(){if(initialized){paneTopH=0,paneBottomH=0,viewportTopH=0,viewportBottomH=0,getViewportWidth(),getViewportHeight(),hasFrozenRows?options.frozenBottom?(paneTopH=viewportH-frozenRowsHeight-scrollbarDimensions.height,paneBottomH=frozenRowsHeight+scrollbarDimensions.height):(paneTopH=frozenRowsHeight,paneBottomH=viewportH-frozenRowsHeight):paneTopH=viewportH,paneTopH+=topPanelH+headerRowH+footerRowH,hasFrozenColumns()&&options.autoHeight&&(paneTopH+=scrollbarDimensions.height),viewportTopH=paneTopH-topPanelH-headerRowH-footerRowH,hasFrozenColumns()||options.autoHeight||(viewportTopH-=scrollbarDimensions.height),options.autoHeight&&(hasFrozenColumns()&&$container.height(paneTopH+parseFloat(_jquery2.default.css($headerScrollerL[0],"height"))),$paneTopL.css("position","relative")),$paneTopL.css({top:$paneHeaderL.height(),height:paneTopH});var e=$paneTopL.position().top+paneTopH;$viewportTopL.height(viewportTopH),hasFrozenColumns()?($paneTopR.css({top:$paneHeaderL.height(),height:paneTopH}),$viewportTopR.height(viewportTopH),hasFrozenRows&&($paneBottomL.css({top:e,height:paneBottomH}),$paneBottomR.css({top:e,height:paneBottomH}),$viewportBottomR.height(paneBottomH))):hasFrozenRows&&($paneBottomL.css({width:"100%",height:paneBottomH}),$paneBottomL.css("top",e)),hasFrozenRows?($viewportBottomL.height(paneBottomH),options.frozenBottom?($canvasBottomL.height(frozenRowsHeight),hasFrozenColumns()&&$canvasBottomR.height(frozenRowsHeight)):($canvasTopL.height(frozenRowsHeight),hasFrozenColumns()&&$canvasTopR.height(frozenRowsHeight))):$viewportTopR.height(viewportTopH),options.forceFitColumns&&autosizeColumns(),updateRowCount(),handleScroll(),lastRenderedScrollLeft=-1,render()}}function updateRowCount(){if(initialized){var e=getDataLengthIncludingAddNew(),t=0,o=hasFrozenRows&&!options.frozenBottom?$canvasBottomL.height():$canvasTopL.height();if(hasFrozenRows)var t=getDataLength()-options.frozenRow;else var t=e+(options.leaveSpaceForNewRows?numVisibleRows-1:0);var r=$viewportScrollContainerY.height(),i=viewportHasVScroll;viewportHasVScroll=!options.autoHeight&&t*options.rowHeight>r,makeActiveCellNormal();var s=e-1;for(var a in rowsCache)a>=s&&removeRowFromCache(a);th=Math.max(options.rowHeight*t,r-scrollbarDimensions.height),activeCellNode&&activeRow>s&&resetActiveCell(),th<maxSupportedCssHeight?(h=ph=th,n=1,cj=0):(h=maxSupportedCssHeight,ph=h/100,n=Math.floor(th/ph),cj=(th-h)/(n-1)),h!==o&&(hasFrozenRows&&!options.frozenBottom?($canvasBottomL.css("height",h),hasFrozenColumns()&&$canvasBottomR.css("height",h)):($canvasTopL.css("height",h),$canvasTopR.css("height",h)),scrollTop=$viewportScrollContainerY[0].scrollTop);var l=scrollTop+offset<=th-r;0==th||0==scrollTop?page=offset=0:scrollTo(l?scrollTop+offset:th-r),h!=o&&options.autoHeight&&resizeCanvas(),options.forceFitColumns&&i!=viewportHasVScroll&&autosizeColumns(),updateCanvasWidth(!1)}}function getVisibleRange(e,t){return null==e&&(e=scrollTop),null==t&&(t=scrollLeft),{top:getRowFromPosition(e),bottom:getRowFromPosition(e+viewportH)+1,leftPx:t,rightPx:t+viewportW}}function getRenderedRange(e,t){var o=getVisibleRange(e,t),r=Math.round(viewportH/options.rowHeight),n=3;return vScrollDir==-1?(o.top-=r,o.bottom+=n):1==vScrollDir?(o.top-=n,o.bottom+=r):(o.top-=n,o.bottom+=n),o.top=Math.max(0,o.top),o.bottom=Math.min(getDataLengthIncludingAddNew()-1,o.bottom),o.leftPx-=viewportW,o.rightPx+=viewportW,o.leftPx=Math.max(0,o.leftPx),o.rightPx=Math.min(canvasWidth,o.rightPx),o}function ensureCellNodesInRowsCache(e){var t=rowsCache[e];if(t&&t.cellRenderQueue.length)for(var o=t.rowNode.children().last();t.cellRenderQueue.length;){var r=t.cellRenderQueue.pop();t.cellNodesByColumnIdx[r]=o,o=o.prev(),0==o.length&&(o=(0,_jquery2.default)(t.rowNode[0]).children().last())}}function cleanUpCells(e,t){if(!hasFrozenRows||!(options.frozenBottom&&t>actualFrozenRow||t<=actualFrozenRow)){var o=0,r=rowsCache[t],n=[];for(var i in r.cellNodesByColumnIdx)if(r.cellNodesByColumnIdx.hasOwnProperty(i)&&(i|=0,!(i<=options.frozenColumn))){var s=r.cellColSpans[i];(columnPosLeft[i]>e.rightPx||columnPosRight[Math.min(columns.length-1,i+s-1)]<e.leftPx)&&(t==activeRow&&i==activeCell||n.push(i))}for(var a;null!=(a=n.pop());)r.cellNodesByColumnIdx[a][0].parentElement.removeChild(r.cellNodesByColumnIdx[a][0]),delete r.cellColSpans[a],delete r.cellNodesByColumnIdx[a],postProcessedRows[t]&&delete postProcessedRows[t][a],o++}}function cleanUpAndRenderCells(e){for(var t,o,r,n=[],i=[],s=0,a=e.top,l=e.bottom;a<=l;a++)if(t=rowsCache[a]){ensureCellNodesInRowsCache(a),cleanUpCells(e,a),o=0;var d=data.getItemMetadata&&data.getItemMetadata(a);d=d&&d.columns;for(var c=getDataItem(a),u=0,h=columns.length;u<h&&!(columnPosLeft[u]>e.rightPx);u++)if(null==(r=t.cellColSpans[u])){if(r=1,d){var p=d[columns[u].id]||d[u];r=p&&p.colspan||1,"*"===r&&(r=h-u)}columnPosRight[Math.min(h-1,u+r-1)]>e.leftPx&&(appendCellHtml(n,a,u,r,c),o++),u+=r>1?r-1:0}else u+=r>1?r-1:0;o&&(s+=o,i.push(a))}if(n.length){var f=document.createElement("div");f.innerHTML=n.join("");for(var v,m;null!=(v=i.pop());){t=rowsCache[v];for(var g;null!=(g=t.cellRenderQueue.pop());)m=(0,_jquery2.default)(f).children().last(),hasFrozenColumns()&&g>options.frozenColumn?(0,_jquery2.default)(t.rowNode[1]).append(m):(0,_jquery2.default)(t.rowNode[0]).append(m),t.cellNodesByColumnIdx[g]=m}}}function renderRows(e){for(var t=[],o=[],r=[],n=!1,i=getDataLength(),s=e.top,a=e.bottom;s<=a;s++)rowsCache[s]||hasFrozenRows&&options.frozenBottom&&s==getDataLength()||(renderedRows++,r.push(s),rowsCache[s]={rowNode:null,cellColSpans:[],cellNodesByColumnIdx:[],cellRenderQueue:[]},appendRowHtml(t,o,s,e,i),activeCellNode&&activeRow===s&&(n=!0),counter_rows_rendered++);if(r.length){var l=document.createElement("div"),d=document.createElement("div");l.innerHTML=t.join(""),d.innerHTML=o.join("");for(var s=0,a=r.length;s<a;s++)hasFrozenRows&&r[s]>=actualFrozenRow?hasFrozenColumns()?rowsCache[r[s]].rowNode=(0,_jquery2.default)().add((0,_jquery2.default)(l.firstChild).appendTo($canvasBottomL)).add((0,_jquery2.default)(d.firstChild).appendTo($canvasBottomR)):rowsCache[r[s]].rowNode=(0,_jquery2.default)().add((0,_jquery2.default)(l.firstChild).appendTo($canvasBottomL)):hasFrozenColumns()?rowsCache[r[s]].rowNode=(0,_jquery2.default)().add((0,_jquery2.default)(l.firstChild).appendTo($canvasTopL)).add((0,_jquery2.default)(d.firstChild).appendTo($canvasTopR)):rowsCache[r[s]].rowNode=(0,_jquery2.default)().add((0,_jquery2.default)(l.firstChild).appendTo($canvasTopL));n&&(activeCellNode=getCellNode(activeRow,activeCell))}}function startPostProcessing(){options.enableAsyncPostRender&&(clearTimeout(h_postrender),h_postrender=setTimeout(asyncPostProcessRows,options.asyncPostRenderDelay))}function invalidatePostProcessingResults(e){delete postProcessedRows[e],postProcessFromRow=Math.min(postProcessFromRow,e),postProcessToRow=Math.max(postProcessToRow,e),startPostProcessing()}function updateRowPositions(){for(var e in rowsCache)rowsCache[e].rowNode.css("top",getRowTop(e)+"px")}function render(){if(initialized){var e=getVisibleRange(),t=getRenderedRange();if(cleanupRows(t),lastRenderedScrollLeft!=scrollLeft){if(hasFrozenRows){var o=_jquery2.default.extend(!0,{},t);options.frozenBottom?(o.top=actualFrozenRow,o.bottom=getDataLength()):(o.top=0,o.bottom=options.frozenRow),cleanUpAndRenderCells(o)}cleanUpAndRenderCells(t)}renderRows(t),hasFrozenRows&&renderRows(options.frozenBottom?{top:actualFrozenRow,bottom:getDataLength()-1,leftPx:t.leftPx,rightPx:t.rightPx}:{top:0,bottom:options.frozenRow-1,leftPx:t.leftPx,rightPx:t.rightPx}),postProcessFromRow=e.top,postProcessToRow=Math.min(getDataLengthIncludingAddNew()-1,e.bottom),startPostProcessing(),lastRenderedScrollTop=scrollTop,lastRenderedScrollLeft=scrollLeft,h_render=null}}function handleHeaderRowScroll(){var e=$headerRowScrollContainer[0].scrollLeft;e!=$viewportScrollContainerX[0].scrollLeft&&($viewportScrollContainerX[0].scrollLeft=e)}function handleFooterRowScroll(){var e=$footerRowScrollContainer[0].scrollLeft;e!=$viewportScrollContainerX[0].scrollLeft&&($viewportScrollContainerX[0].scrollLeft=e)}function handleMouseWheel(e,t,o,r){var n=(0,_jquery2.default)(e.target).closest(".slick-row"),i=n[0];if(i!=rowNodeFromLastMouseWheelEvent){var s=n.parents(".grid-canvas"),a=s.hasClass("grid-canvas-left");if(zombieRowNodeFromLastMouseWheelEvent&&zombieRowNodeFromLastMouseWheelEvent[a?0:1]!=i){var l=zombieRowNodeFromLastMouseWheelEvent[a||1==zombieRowNodeFromLastMouseWheelEvent.length?0:1];l.parentElement.removeChild(l),zombieRowNodeFromLastMouseWheelEvent=null}rowNodeFromLastMouseWheelEvent=i}scrollTop=Math.max(0,$viewportScrollContainerY[0].scrollTop-r*options.rowHeight),scrollLeft=$viewportScrollContainerX[0].scrollLeft+10*o;var d=_handleScroll(!0);d&&e.preventDefault()}function handleScroll(){return scrollTop=$viewportScrollContainerY[0].scrollTop,scrollLeft=$viewportScrollContainerX[0].scrollLeft,_handleScroll(!1)}function _handleScroll(e){var t=$viewportScrollContainerY[0].scrollHeight-$viewportScrollContainerY[0].clientHeight,o=$viewportScrollContainerY[0].scrollWidth-$viewportScrollContainerY[0].clientWidth,r=hasFrozenColumns();scrollTop>t&&(scrollTop=t),scrollLeft>o&&(scrollLeft=o);var i=Math.abs(scrollTop-prevScrollTop),s=Math.abs(scrollLeft-prevScrollLeft);if(s&&(prevScrollLeft=scrollLeft,$viewportScrollContainerX[0].scrollLeft=scrollLeft,$headerScrollContainer[0].scrollLeft=scrollLeft,$topPanelScroller[0].scrollLeft=scrollLeft,$headerRowScrollContainer[0].scrollLeft=scrollLeft,$footerRowScrollContainer[0].scrollLeft=scrollLeft,r?hasFrozenRows&&($viewportTopR[0].scrollLeft=scrollLeft):hasFrozenRows&&($viewportTopL[0].scrollLeft=scrollLeft)),i)if(vScrollDir=prevScrollTop<scrollTop?1:-1,prevScrollTop=scrollTop,e&&($viewportScrollContainerY[0].scrollTop=scrollTop),r&&(hasFrozenRows&&!options.frozenBottom?$viewportBottomL[0].scrollTop=scrollTop:$viewportTopL[0].scrollTop=scrollTop),i<viewportH)scrollTo(scrollTop+offset);else{var a=offset;page=h==viewportH?0:Math.min(n-1,Math.floor(scrollTop*((th-viewportH)/(h-viewportH))*(1/ph))),offset=Math.round(page*cj),a!=offset&&invalidateAllRows()}return(s||i)&&(h_render&&cancelAnimationFrame(h_render),(Math.abs(lastRenderedScrollTop-scrollTop)>20||Math.abs(lastRenderedScrollLeft-scrollLeft)>20)&&(options.forceSyncScrolling||Math.abs(lastRenderedScrollTop-scrollTop)<viewportH&&Math.abs(lastRenderedScrollLeft-scrollLeft)<viewportW?render():h_render=requestAnimationFrame(render),trigger(self.onViewportChanged,{}))),trigger(self.onScroll,{scrollLeft:scrollLeft,scrollTop:scrollTop}),!(!s&&!i)}function asyncPostProcessRows(){for(var e=getDataLength();postProcessFromRow<=postProcessToRow;){var t=vScrollDir>=0?postProcessFromRow++:postProcessToRow--,o=rowsCache[t];if(o&&!(t>=e)){postProcessedRows[t]||(postProcessedRows[t]={}),ensureCellNodesInRowsCache(t);for(var r in o.cellNodesByColumnIdx)if(o.cellNodesByColumnIdx.hasOwnProperty(r)){r|=0;var n=columns[r];if(n.asyncPostRender&&!postProcessedRows[t][r]){var i=o.cellNodesByColumnIdx[r];i&&n.asyncPostRender(i,t,getDataItem(t),n),postProcessedRows[t][r]=!0}}return void(h_postrender=setTimeout(asyncPostProcessRows,options.asyncPostRenderDelay))}}}function updateCellCssStylesOnRenderedRows(e,t){var o,r,n,i;for(var s in rowsCache){if(i=t&&t[s],n=e&&e[s],i)for(r in i)n&&i[r]==n[r]||(o=getCellNode(s,getColumnIndex(r)),o&&(0,_jquery2.default)(o).removeClass(i[r]));if(n)for(r in n)i&&i[r]==n[r]||(o=getCellNode(s,getColumnIndex(r)),o&&(0,_jquery2.default)(o).addClass(n[r]))}}function addCellCssStyles(e,t){if(cellCssClasses[e])throw"addCellCssStyles: cell CSS hash with key '"+e+"' already exists.";cellCssClasses[e]=t,updateCellCssStylesOnRenderedRows(t,null),trigger(self.onCellCssStylesChanged,{key:e,hash:t})}function removeCellCssStyles(e){cellCssClasses[e]&&(updateCellCssStylesOnRenderedRows(null,cellCssClasses[e]),delete cellCssClasses[e],trigger(self.onCellCssStylesChanged,{key:e,hash:null}))}function setCellCssStyles(e,t){var o=cellCssClasses[e];cellCssClasses[e]=t,updateCellCssStylesOnRenderedRows(t,o),trigger(self.onCellCssStylesChanged,{key:e,hash:t})}function getCellCssStyles(e){return cellCssClasses[e]}function flashCell(e,t,o){if(o=o||100,rowsCache[e]){var r=function e(t){t&&setTimeout(function(){n.queue(function(){n.toggleClass(options.cellFlashingCssClass).dequeue(),e(t-1)})},o)},n=(0,_jquery2.default)(getCellNode(e,t));r(4)}}function handleDragInit(e,t){var o=getCellFromEvent(e);if(!o||!cellExists(o.row,o.cell))return!1;var r=trigger(self.onDragInit,t,e);return!!e.isImmediatePropagationStopped()&&r}function handleDragStart(e){var t=_jquery2.default.Event(e.originalEvent.type,e.originalEvent),o=getCellFromEvent(t);if(!o||!cellExists(o.row,o.cell))return!1;var r=trigger(self.onDragStart,e,t);return!!t.isImmediatePropagationStopped()&&r}function handleDrag(e){var t=_jquery2.default.Event(e.originalEvent.type,e.originalEvent);return trigger(self.onDrag,e,t)}function handleDragEnd(e){trigger(self.onDragEnd,e,_jquery2.default.Event("mousedown"))}function handleKeyDown(e){trigger(self.onKeyDown,{row:activeRow,cell:activeCell},e);var t=e.isImmediatePropagationStopped();if(!t)if(e.shiftKey||e.altKey||e.ctrlKey)9!=e.which||!e.shiftKey||e.ctrlKey||e.altKey||(t=navigatePrev());else if(27==e.which){if(!getEditorLock().isActive())return;cancelEditAndSetFocus()}else 34==e.which?(navigatePageDown(),t=!0):33==e.which?(navigatePageUp(),t=!0):37==e.which?t=navigateLeft():39==e.which?t=navigateRight():38==e.which?t=navigateUp():40==e.which?t=navigateDown():9==e.which?t=navigateNext():13==e.which&&(options.editable&&(currentEditor?activeRow===getDataLength()?navigateDown():commitEditAndSetFocus():getEditorLock().commitCurrentEdit()&&makeActiveCellEditable()),t=!0);if(t){e.stopPropagation(),e.preventDefault();try{e.originalEvent.keyCode=0}catch(e){}}}function handleClick(e){currentEditor||(e.target!=document.activeElement||(0,_jquery2.default)(e.target).hasClass("slick-cell"))&&setFocus();var t=getCellFromEvent(e);!t||null!==currentEditor&&activeRow==t.row&&activeCell==t.cell||(trigger(self.onClick,{row:t.row,cell:t.cell},e),e.isImmediatePropagationStopped()||activeCell==t.cell&&activeRow==t.row||!canCellBeActive(t.row,t.cell)||getEditorLock().isActive()&&!getEditorLock().commitCurrentEdit()||(scrollRowIntoView(t.row,!1),setActiveCellInternal(getCellNode(t.row,t.cell))))}function handleContextMenu(e){var t=(0,_jquery2.default)(e.target).closest(".slick-cell",$canvas);0!==t.length&&(activeCellNode===t[0]&&null!==currentEditor||trigger(self.onContextMenu,{},e))}function handleDblClick(e){var t=getCellFromEvent(e);!t||null!==currentEditor&&activeRow==t.row&&activeCell==t.cell||(trigger(self.onDblClick,{row:t.row,cell:t.cell},e),e.isImmediatePropagationStopped()||options.editable&&gotoCell(t.row,t.cell,!0))}function handleHeaderMouseEnter(e){trigger(self.onHeaderMouseEnter,{column:(0,_jquery2.default)(this).data("column")},e)}function handleHeaderMouseLeave(e){trigger(self.onHeaderMouseLeave,{column:(0,_jquery2.default)(this).data("column")},e)}function handleHeaderContextMenu(e){var t=(0,_jquery2.default)(e.target).closest(".slick-header-column",".slick-header-columns"),o=t&&t.data("column");trigger(self.onHeaderContextMenu,{column:o},e)}function handleHeaderClick(e){var t=(0,_jquery2.default)(e.target).closest(".slick-header-column",".slick-header-columns"),o=t&&t.data("column");o&&trigger(self.onHeaderClick,{column:o},e)}function handleMouseEnter(e){trigger(self.onMouseEnter,{},e)}function handleMouseLeave(e){trigger(self.onMouseLeave,{},e)}function cellExists(e,t){return!(e<0||e>=getDataLength()||t<0||t>=columns.length)}function getCellFromPoint(e,t){for(var o=getRowFromPosition(t),r=0,n=0,i=0;i<columns.length&&n<e;i++)n+=columns[i].width,r++;return r<0&&(r=0),{row:o,cell:r-1}}function getCellFromNode(e){var t=/l\d+/.exec(e.className);if(!t)throw"getCellFromNode: cannot get cell - "+e.className;return parseInt(t[0].substr(1,t[0].length-1),10)}function getRowFromNode(e){for(var t in rowsCache)for(var o in rowsCache[t].rowNode)if(rowsCache[t].rowNode[o]===e)return 0|t;return null}function getFrozenRowOffset(e){var t=hasFrozenRows?options.frozenBottom?e>=actualFrozenRow?h<viewportTopH?actualFrozenRow*options.rowHeight:h:0:e>=actualFrozenRow?frozenRowsHeight:0:0;return t}function getCellFromEvent(e){var t,o,r=(0,_jquery2.default)(e.target).closest(".slick-cell",$canvas);if(!r.length)return null;if(t=getRowFromNode(r[0].parentNode),hasFrozenRows){var n=r.parents(".grid-canvas").offset(),i=0,s=r.parents(".grid-canvas-bottom").length;s&&(i=options.frozenBottom?$canvasTopL.height():frozenRowsHeight),t=getCellFromPoint(e.clientX-n.left,e.clientY-n.top+i+(0,_jquery2.default)(document).scrollTop()).row}return o=getCellFromNode(r[0]),null==t||null==o?null:{row:t,cell:o}}function getCellNodeBox(e,t){if(!cellExists(e,t))return null;for(var o=getFrozenRowOffset(e),r=getRowTop(e)-o,n=r+options.rowHeight-1,i=0,s=0;s<t;s++)i+=columns[s].width,options.frozenColumn==s&&(i=0);
var a=i+columns[t].width;return{top:r,left:i,bottom:n,right:a}}function resetActiveCell(){setActiveCellInternal(null,!1)}function setFocus(){tabbingDirection==-1?$focusSink[0].focus():$focusSink2[0].focus()}function scrollCellIntoView(e,t,o){if(!(t<options.frozenColumn)){options.frozenRow>0&&e<actualFrozenRow?scrollRowIntoView(e,o):scrollRowIntoView(e,o);var r=getColspan(e,t),n=columnPosLeft[t],i=columnPosRight[t+(r>1?r-1:0)],s=scrollLeft+$viewportScrollContainerX.width();n<scrollLeft?($viewportScrollContainerX.scrollLeft(n),handleScroll(),render()):i>s&&($viewportScrollContainerX.scrollLeft(Math.min(n,i-$viewportScrollContainerX[0].clientWidth)),handleScroll(),render())}}function setActiveCellInternal(e,t){null!==activeCellNode&&(makeActiveCellNormal(),(0,_jquery2.default)(activeCellNode).removeClass("active"),rowsCache[activeRow]&&(0,_jquery2.default)(rowsCache[activeRow].rowNode).removeClass("active"));var o=activeCellNode!==e;if(activeCellNode=e,null!=activeCellNode){var r=(0,_jquery2.default)(activeCellNode),n=r.offset(),i=Math.floor(r.parents(".grid-canvas").offset().top),s=r.parents(".grid-canvas-bottom").length;hasFrozenRows&&s&&(i-=options.frozenBottom?$canvasTopL.height():frozenRowsHeight);var a=getCellFromPoint(n.left,Math.ceil(n.top)-i);activeRow=a.row,activeCell=activePosX=activeCell=activePosX=getCellFromNode(activeCellNode[0]),r.addClass("active"),rowsCache[activeRow]&&(0,_jquery2.default)(rowsCache[activeRow].rowNode).addClass("active"),null==t&&(t=activeRow==getDataLength()||options.autoEdit),options.editable&&t&&isCellPotentiallyEditable(activeRow,activeCell)&&(clearTimeout(h_editorLoader),options.asyncEditorLoading?h_editorLoader=setTimeout(function(){makeActiveCellEditable()},options.asyncEditorLoadDelay):makeActiveCellEditable())}else activeRow=activeCell=null;o&&(setTimeout(scrollActiveCellIntoView,50),trigger(self.onActiveCellChanged,getActiveCell()))}function clearTextSelection(){if(document.selection&&document.selection.empty)try{document.selection.empty()}catch(e){}else if(window.getSelection){var e=window.getSelection();e&&e.removeAllRanges&&e.removeAllRanges()}}function isCellPotentiallyEditable(e,t){var o=getDataLength();return!(e<o&&!getDataItem(e))&&(!(columns[t].cannotTriggerInsert&&e>=o)&&!!getEditor(e,t))}function makeActiveCellNormal(){if(currentEditor){if(trigger(self.onBeforeCellEditorDestroy,{editor:currentEditor}),currentEditor.destroy(),currentEditor=null,activeCellNode){var e=getDataItem(activeRow);if((0,_jquery2.default)(activeCellNode).removeClass("editable invalid"),e){var t=columns[activeCell];activeCellNode[0].innerHTML=callFormatter(activeRow,activeCell,getDataItemValueForColumn(e,t),t,e),invalidatePostProcessingResults(activeRow)}}navigator.userAgent.toLowerCase().match(/msie/)&&clearTextSelection(),getEditorLock().deactivate(editController)}}function makeActiveCellEditable(e){if(activeCellNode){if(!options.editable)throw"Grid : makeActiveCellEditable : should never get called when options.editable is false";if(clearTimeout(h_editorLoader),isCellPotentiallyEditable(activeRow,activeCell)){var t=columns[activeCell],o=getDataItem(activeRow);if(trigger(self.onBeforeEditCell,{row:activeRow,cell:activeCell,item:o,column:t})===!1)return void setFocus();getEditorLock().activate(editController),(0,_jquery2.default)(activeCellNode).addClass("editable"),e||(activeCellNode[0].innerHTML=""),currentEditor=new(e||getEditor(activeRow,activeCell))({grid:self,gridPosition:absBox($container[0]),position:absBox(activeCellNode[0]),container:activeCellNode,column:t,item:o||{},commitChanges:commitEditAndSetFocus,cancelChanges:cancelEditAndSetFocus}),o&&currentEditor.loadValue(o),serializedEditorValue=currentEditor.serializeValue(),currentEditor.position&&handleActiveCellPositionChange()}}}function commitEditAndSetFocus(){getEditorLock().commitCurrentEdit()&&(setFocus(),options.autoEdit&&navigateDown())}function cancelEditAndSetFocus(){getEditorLock().cancelCurrentEdit()&&setFocus()}function absBox(e){var t={top:e.offsetTop,left:e.offsetLeft,bottom:0,right:0,width:(0,_jquery2.default)(e).outerWidth(),height:(0,_jquery2.default)(e).outerHeight(),visible:!0};t.bottom=t.top+t.height,t.right=t.left+t.width;for(var o=e.offsetParent;(e=e.parentNode)!=document.body;)t.visible&&e.scrollHeight!=e.offsetHeight&&"visible"!=(0,_jquery2.default)(e).css("overflowY")&&(t.visible=t.bottom>e.scrollTop&&t.top<e.scrollTop+e.clientHeight),t.visible&&e.scrollWidth!=e.offsetWidth&&"visible"!=(0,_jquery2.default)(e).css("overflowX")&&(t.visible=t.right>e.scrollLeft&&t.left<e.scrollLeft+e.clientWidth),t.left-=e.scrollLeft,t.top-=e.scrollTop,e===o&&(t.left+=e.offsetLeft,t.top+=e.offsetTop,o=e.offsetParent),t.bottom=t.top+t.height,t.right=t.left+t.width;return t}function getActiveCellPosition(){return absBox(activeCellNode[0])}function getGridPosition(){return absBox($container[0])}function handleActiveCellPositionChange(){if(activeCellNode&&(trigger(self.onActiveCellPositionChanged,{}),currentEditor)){var e=getActiveCellPosition();currentEditor.show&&currentEditor.hide&&(e.visible?currentEditor.show():currentEditor.hide()),currentEditor.position&&currentEditor.position(e)}}function getCellEditor(){return currentEditor}function getActiveCell(){return activeCellNode?{row:activeRow,cell:activeCell}:null}function getActiveCellNode(){return activeCellNode}function scrollActiveCellIntoView(){null!=activeRow&&null!=activeCell&&scrollCellIntoView(activeRow,activeCell)}function scrollRowIntoView(e,t){if(!hasFrozenRows||!options.frozenBottom&&e>actualFrozenRow-1||options.frozenBottom&&e<actualFrozenRow-1){var o=$viewportScrollContainerY.height(),r=e*options.rowHeight,n=(e+1)*options.rowHeight-o+(viewportHasHScroll?scrollbarDimensions.height:0);(e+1)*options.rowHeight>scrollTop+o+offset?(scrollTo(t?r:n),render()):e*options.rowHeight<scrollTop+offset&&(scrollTo(t?n:r),render())}}function scrollRowToTop(e){scrollTo(e*options.rowHeight),render()}function scrollPage(e){var t=e*numVisibleRows;if(scrollTo((getRowFromPosition(scrollTop)+t)*options.rowHeight),render(),options.enableCellNavigation&&null!=activeRow){var o=activeRow+t,r=getDataLengthIncludingAddNew();o>=r&&(o=r-1),o<0&&(o=0);for(var n=0,i=null,s=activePosX;n<=activePosX;)canCellBeActive(o,n)&&(i=n),n+=getColspan(o,n);null!==i?(setActiveCellInternal(getCellNode(o,i)),activePosX=s):resetActiveCell()}}function navigatePageDown(){scrollPage(1)}function navigatePageUp(){scrollPage(-1)}function getColspan(e,t){var o=data.getItemMetadata&&data.getItemMetadata(e);if(!o||!o.columns)return 1;var r=columns[t]&&(o.columns[columns[t].id]||o.columns[t]),n=r&&r.colspan;return n="*"===n?columns.length-t:n||1}function findFirstFocusableCell(e){for(var t=0;t<columns.length;){if(canCellBeActive(e,t))return t;t+=getColspan(e,t)}return null}function findLastFocusableCell(e){for(var t=0,o=null;t<columns.length;)canCellBeActive(e,t)&&(o=t),t+=getColspan(e,t);return o}function gotoRight(e,t,o){if(t>=columns.length)return null;do t+=getColspan(e,t);while(t<columns.length&&!canCellBeActive(e,t));return t<columns.length?{row:e,cell:t,posX:t}:null}function gotoLeft(e,t,o){if(t<=0)return null;var r=findFirstFocusableCell(e);if(null===r||r>=t)return null;for(var n,i={row:e,cell:r,posX:r};;){if(n=gotoRight(i.row,i.cell,i.posX),!n)return null;if(n.cell>=t)return i;i=n}}function gotoDown(e,t,o){for(var r,n=getDataLengthIncludingAddNew();;){if(++e>=n)return null;for(r=t=0;t<=o;)r=t,t+=getColspan(e,t);if(canCellBeActive(e,r))return{row:e,cell:r,posX:o}}}function gotoUp(e,t,o){for(var r;;){if(--e<0)return null;for(r=t=0;t<=o;)r=t,t+=getColspan(e,t);if(canCellBeActive(e,r))return{row:e,cell:r,posX:o}}}function gotoNext(e,t,o){if(null==e&&null==t&&(e=t=o=0,canCellBeActive(e,t)))return{row:e,cell:t,posX:t};var r=gotoRight(e,t,o);if(r)return r;for(var n=null,i=getDataLengthIncludingAddNew();++e<i;)if(n=findFirstFocusableCell(e),null!==n)return{row:e,cell:n,posX:n};return null}function gotoPrev(e,t,o){if(null==e&&null==t&&(e=getDataLengthIncludingAddNew()-1,t=o=columns.length-1,canCellBeActive(e,t)))return{row:e,cell:t,posX:t};for(var r,n;!r&&!(r=gotoLeft(e,t,o));){if(--e<0)return null;t=0,n=findLastFocusableCell(e),null!==n&&(r={row:e,cell:n,posX:n})}return r}function navigateRight(){return navigate("right")}function navigateLeft(){return navigate("left")}function navigateDown(){return navigate("down")}function navigateUp(){return navigate("up")}function navigateNext(){return navigate("next")}function navigatePrev(){return navigate("prev")}function navigate(e){if(!options.enableCellNavigation)return!1;if(!activeCellNode&&"prev"!=e&&"next"!=e)return!1;if(!getEditorLock().commitCurrentEdit())return!0;setFocus();var t={up:-1,down:1,left:-1,right:1,prev:-1,next:1};tabbingDirection=t[e];var o={up:gotoUp,down:gotoDown,left:gotoLeft,right:gotoRight,prev:gotoPrev,next:gotoNext},r=o[e],n=r(activeRow,activeCell,activePosX);if(n){if(hasFrozenRows&&options.frozenBottom&n.row==getDataLength())return;var i=n.row==getDataLength();return(!options.frozenBottom&&n.row>=actualFrozenRow||options.frozenBottom&&n.row<actualFrozenRow)&&scrollCellIntoView(n.row,n.cell,!i),setActiveCellInternal(getCellNode(n.row,n.cell)),activePosX=n.posX,!0}return setActiveCellInternal(getCellNode(activeRow,activeCell)),!1}function getCellNode(e,t){return rowsCache[e]?(ensureCellNodesInRowsCache(e),rowsCache[e].cellNodesByColumnIdx[t]):null}function setActiveCell(e,t){initialized&&(e>getDataLength()||e<0||t>=columns.length||t<0||options.enableCellNavigation&&(scrollCellIntoView(e,t,!1),setActiveCellInternal(getCellNode(e,t),!1)))}function canCellBeActive(e,t){if(!options.enableCellNavigation||e>=getDataLengthIncludingAddNew()||e<0||t>=columns.length||t<0)return!1;var o=data.getItemMetadata&&data.getItemMetadata(e);if(o&&"boolean"==typeof o.focusable)return o.focusable;var r=o&&o.columns;return r&&columns[t]&&r[columns[t].id]&&"boolean"==typeof r[columns[t].id].focusable?r[columns[t].id].focusable:r&&r[t]&&"boolean"==typeof r[t].focusable?r[t].focusable:columns[t]&&columns[t].focusable}function canCellBeSelected(e,t){if(e>=getDataLength()||e<0||t>=columns.length||t<0)return!1;var o=data.getItemMetadata&&data.getItemMetadata(e);if(o&&"boolean"==typeof o.selectable)return o.selectable;var r=o&&o.columns&&(o.columns[columns[t].id]||o.columns[t]);return r&&"boolean"==typeof r.selectable?r.selectable:columns[t].selectable}function gotoCell(e,t,o){if(initialized&&canCellBeActive(e,t)&&getEditorLock().commitCurrentEdit()){scrollCellIntoView(e,t,!1);var r=getCellNode(e,t);setActiveCellInternal(r,o||e===getDataLength()||options.autoEdit),currentEditor||setFocus()}}function commitCurrentEdit(){var e=getDataItem(activeRow),t=columns[activeCell];if(currentEditor){if(currentEditor.isValueChanged()){var o=currentEditor.validate();if(o.valid){if(activeRow<getDataLength()){var r={row:activeRow,cell:activeCell,editor:currentEditor,serializedValue:currentEditor.serializeValue(),prevSerializedValue:serializedEditorValue,execute:function(){this.editor.applyValue(e,this.serializedValue),updateRow(this.row),trigger(self.onCellChange,{row:activeRow,cell:activeCell,item:e})},undo:function(){this.editor.applyValue(e,this.prevSerializedValue),updateRow(this.row),trigger(self.onCellChange,{row:activeRow,cell:activeCell,item:e})}};options.editCommandHandler?(makeActiveCellNormal(),options.editCommandHandler(e,t,r)):(r.execute(),makeActiveCellNormal())}else{var n={};currentEditor.applyValue(n,currentEditor.serializeValue()),makeActiveCellNormal(),trigger(self.onAddNewRow,{item:n,column:t})}return!getEditorLock().isActive()}return(0,_jquery2.default)(activeCellNode).removeClass("invalid"),(0,_jquery2.default)(activeCellNode).width(),(0,_jquery2.default)(activeCellNode).addClass("invalid"),trigger(self.onValidationError,{editor:currentEditor,cellNode:activeCellNode,validationResults:o,row:activeRow,cell:activeCell,column:t}),currentEditor.focus(),!1}makeActiveCellNormal()}return!0}function cancelCurrentEdit(){return makeActiveCellNormal(),!0}function rowsToRanges(e){for(var t=[],o=columns.length-1,r=0;r<e.length;r++)t.push(new _slick2.default.Range(e[r],0,e[r],o));return t}function getSelectedRows(){if(!selectionModel)throw"Selection model is not set";return selectedRows}function setSelectedRows(e){if(!selectionModel)throw"Selection model is not set";selectionModel.setSelectedRanges(rowsToRanges(e))}var defaults={explicitInitialization:!1,rowHeight:25,defaultColumnWidth:80,enableAddRow:!1,leaveSpaceForNewRows:!1,editable:!1,autoEdit:!0,enableCellNavigation:!0,enableColumnReorder:!0,asyncEditorLoading:!1,asyncEditorLoadDelay:100,forceFitColumns:!1,enableAsyncPostRender:!1,asyncPostRenderDelay:50,autoHeight:!1,editorLock:_slick2.default.GlobalEditorLock,showHeaderRow:!1,headerRowHeight:25,showFooterRow:!1,footerRowHeight:25,showTopPanel:!1,topPanelHeight:25,formatterFactory:null,editorFactory:null,cellFlashingCssClass:"flashing",selectedCellCssClass:"selected",multiSelect:!0,enableTextSelectionOnCells:!1,dataItemColumnValueExtractor:null,frozenBottom:!1,frozenColumn:-1,frozenRow:-1,fullWidthRows:!1,multiColumnSort:!1,defaultFormatter:defaultFormatter,forceSyncScrolling:!1,addNewRowCssClass:"new-row"},columnDefaults={name:"",resizable:!0,sortable:!1,minWidth:30,rerenderOnResize:!1,headerCssClass:null,defaultSortAsc:!0,focusable:!0,selectable:!0},th=void 0,h=void 0,ph=void 0,n=void 0,cj=void 0,page=0,offset=0,vScrollDir=1,initialized=!1,$container=void 0,uid="slickgrid_"+Math.round(1e6*Math.random()),self=this,$focusSink=void 0,$focusSink2=void 0,$groupHeaders=(0,_jquery2.default)(),$headerScroller=void 0,$headers=void 0,$headerRow=void 0,$headerRowScroller=void 0,$headerRowSpacerL=void 0,$headerRowSpacerR=void 0,$footerRow=void 0,$footerRowScroller=void 0,$footerRowSpacerL=void 0,$footerRowSpacerR=void 0,$topPanelScroller=void 0,$topPanel=void 0,$viewport=void 0,$canvas=void 0,$style=void 0,$boundAncestors=void 0,treeColumns=void 0,stylesheet=void 0,columnCssRulesL=void 0,columnCssRulesR=void 0,viewportH=void 0,viewportW=void 0,canvasWidth=void 0,canvasWidthL=void 0,canvasWidthR=void 0,headersWidth=void 0,headersWidthL=void 0,headersWidthR=void 0,viewportHasHScroll=void 0,viewportHasVScroll=void 0,headerColumnWidthDiff=0,headerColumnHeightDiff=0,cellWidthDiff=0,cellHeightDiff=0,absoluteColumnMinWidth=void 0,hasFrozenRows=!1,frozenRowsHeight=0,actualFrozenRow=-1,paneTopH=0,paneBottomH=0,viewportTopH=0,viewportBottomH=0,topPanelH=0,headerRowH=0,footerRowH=0,tabbingDirection=1,$activeCanvasNode=void 0,$activeViewportNode=void 0,activePosX=void 0,activeRow=void 0,activeCell=void 0,activeCellNode=null,currentEditor=null,serializedEditorValue=void 0,editController=void 0,rowsCache={},renderedRows=0,numVisibleRows=0,prevScrollTop=0,scrollTop=0,lastRenderedScrollTop=0,lastRenderedScrollLeft=0,prevScrollLeft=0,scrollLeft=0,selectionModel=void 0,selectedRows=[],plugins=[],cellCssClasses={},columnsById={},sortColumns=[],columnPosLeft=[],columnPosRight=[],h_editorLoader=null,h_render=null,h_postrender=null,postProcessedRows={},postProcessToRow=null,postProcessFromRow=null,counter_rows_rendered=0,counter_rows_removed=0,rowNodeFromLastMouseWheelEvent=void 0,zombieRowNodeFromLastMouseWheelEvent=void 0,$paneHeaderL=void 0,$paneHeaderR=void 0,$paneTopL=void 0,$paneTopR=void 0,$paneBottomL=void 0,$paneBottomR=void 0,$headerScrollerL=void 0,$headerScrollerR=void 0,$headerL=void 0,$headerR=void 0,$groupHeadersL=void 0,$groupHeadersR=void 0,$headerRowScrollerL=void 0,$headerRowScrollerR=void 0,$footerRowScrollerL=void 0,$footerRowScrollerR=void 0,$headerRowL=void 0,$headerRowR=void 0,$footerRowL=void 0,$footerRowR=void 0,$topPanelScrollerL=void 0,$topPanelScrollerR=void 0,$topPanelL=void 0,$topPanelR=void 0,$viewportTopL=void 0,$viewportTopR=void 0,$viewportBottomL=void 0,$viewportBottomR=void 0,$canvasTopL=void 0,$canvasTopR=void 0,$canvasBottomL=void 0,$canvasBottomR=void 0,$viewportScrollContainerX=void 0,$viewportScrollContainerY=void 0,$headerScrollContainer=void 0,$headerRowScrollContainer=void 0,$footerRowScrollContainer=void 0;this.debug=function(){var e="";e+="\ncounter_rows_rendered:  "+counter_rows_rendered,e+="\ncounter_rows_removed:  "+counter_rows_removed,e+="\nrenderedRows:  "+renderedRows,e+="\nnumVisibleRows:  "+numVisibleRows,e+="\nmaxSupportedCssHeight:  "+maxSupportedCssHeight,e+="\nn(umber of pages):  "+n,e+="\n(current) page:  "+page,e+="\npage height (ph):  "+ph,e+="\nvScrollDir:  "+vScrollDir,alert(e)},this.eval=function(expr){return eval(expr)},_jquery2.default.extend(this,{slickGridVersion:"2.1",onScroll:new _slick2.default.Event,onSort:new _slick2.default.Event,onHeaderMouseEnter:new _slick2.default.Event,onHeaderMouseLeave:new _slick2.default.Event,onHeaderContextMenu:new _slick2.default.Event,onHeaderClick:new _slick2.default.Event,onHeaderCellRendered:new _slick2.default.Event,onBeforeHeaderCellDestroy:new _slick2.default.Event,onHeaderRowCellRendered:new _slick2.default.Event,onFooterRowCellRendered:new _slick2.default.Event,onBeforeHeaderRowCellDestroy:new _slick2.default.Event,onBeforeFooterRowCellDestroy:new _slick2.default.Event,onMouseEnter:new _slick2.default.Event,onMouseLeave:new _slick2.default.Event,onClick:new _slick2.default.Event,onDblClick:new _slick2.default.Event,onContextMenu:new _slick2.default.Event,onKeyDown:new _slick2.default.Event,onAddNewRow:new _slick2.default.Event,onValidationError:new _slick2.default.Event,onViewportChanged:new _slick2.default.Event,onColumnsReordered:new _slick2.default.Event,onColumnsResized:new _slick2.default.Event,onCellChange:new _slick2.default.Event,onBeforeEditCell:new _slick2.default.Event,onBeforeCellEditorDestroy:new _slick2.default.Event,onBeforeDestroy:new _slick2.default.Event,onActiveCellChanged:new _slick2.default.Event,onActiveCellPositionChanged:new _slick2.default.Event,onDragInit:new _slick2.default.Event,onDragStart:new _slick2.default.Event,onDrag:new _slick2.default.Event,onDragEnd:new _slick2.default.Event,onSelectedRowsChanged:new _slick2.default.Event,onCellCssStylesChanged:new _slick2.default.Event,registerPlugin:registerPlugin,unregisterPlugin:unregisterPlugin,getColumns:getColumns,setColumns:setColumns,getColumnIndex:getColumnIndex,updateColumnHeader:updateColumnHeader,setSortColumn:setSortColumn,setSortColumns:setSortColumns,getSortColumns:getSortColumns,autosizeColumns:autosizeColumns,getOptions:getOptions,setOptions:setOptions,getData:getData,getDataLength:getDataLength,getDataItem:getDataItem,setData:setData,getSelectionModel:getSelectionModel,setSelectionModel:setSelectionModel,getSelectedRows:getSelectedRows,setSelectedRows:setSelectedRows,getContainerNode:getContainerNode,render:render,invalidate:invalidate,invalidateRow:invalidateRow,invalidateRows:invalidateRows,invalidateAllRows:invalidateAllRows,updateCell:updateCell,updateRow:updateRow,getViewport:getVisibleRange,getRenderedRange:getRenderedRange,resizeCanvas:resizeCanvas,updateRowCount:updateRowCount,scrollRowIntoView:scrollRowIntoView,scrollRowToTop:scrollRowToTop,scrollCellIntoView:scrollCellIntoView,getCanvasNode:getCanvasNode,getCanvases:getCanvases,getActiveCanvasNode:getActiveCanvasNode,setActiveCanvasNode:setActiveCanvasNode,getViewportNode:getViewportNode,getActiveViewportNode:getActiveViewportNode,setActiveViewportNode:setActiveViewportNode,focus:setFocus,getCellFromPoint:getCellFromPoint,getCellFromEvent:getCellFromEvent,getActiveCell:getActiveCell,setActiveCell:setActiveCell,getActiveCellNode:getActiveCellNode,getActiveCellPosition:getActiveCellPosition,resetActiveCell:resetActiveCell,editActiveCell:makeActiveCellEditable,getCellEditor:getCellEditor,getCellNode:getCellNode,getCellNodeBox:getCellNodeBox,canCellBeSelected:canCellBeSelected,canCellBeActive:canCellBeActive,navigatePrev:navigatePrev,navigateNext:navigateNext,navigateUp:navigateUp,navigateDown:navigateDown,navigateLeft:navigateLeft,navigateRight:navigateRight,navigatePageUp:navigatePageUp,navigatePageDown:navigatePageDown,gotoCell:gotoCell,getTopPanel:getTopPanel,setTopPanelVisibility:setTopPanelVisibility,setHeaderRowVisibility:setHeaderRowVisibility,getHeaderRow:getHeaderRow,getHeaderRowColumn:getHeaderRowColumn,setFooterRowVisibility:setFooterRowVisibility,getFooterRow:getFooterRow,getFooterRowColumn:getFooterRowColumn,getGridPosition:getGridPosition,flashCell:flashCell,addCellCssStyles:addCellCssStyles,setCellCssStyles:setCellCssStyles,removeCellCssStyles:removeCellCssStyles,getCellCssStyles:getCellCssStyles,getFrozenRowOffset:getFrozenRowOffset,init:finishInitialization,destroy:destroy,getEditorLock:getEditorLock,getEditController:getEditController}),init()}Object.defineProperty(exports,"__esModule",{value:!0});var _jquery=__webpack_require__(2),_jquery2=_interopRequireDefault(_jquery),_interact=__webpack_require__(3),_interact2=_interopRequireDefault(_interact),_slick=__webpack_require__(1),_slick2=_interopRequireDefault(_slick);_slick2.default.FrozenGrid=SlickGrid,exports.default=SlickGrid;var scrollbarDimensions=void 0,maxSupportedCssHeight=void 0}]);
//# sourceMappingURL=frozen.js.map